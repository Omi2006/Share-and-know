{"version":3,"sources":["components/Auth/fetchCsrf.js","components/Auth/LoggedInContext.js","components/Auth/Login.js","components/Auth/Register.js","components/Auth/ToggleLoginContext.js","components/General/Dropdown.js","components/General/Search.js","components/General/Sidebar.js","components/General/SidebarContent.js","components/General/usePrefersReducedMotion.js","components/Post/Like.js","components/Post/List.js","components/Post/New.js","components/Comment/Comment.js","components/Comment/List.js","components/Comment/New.js","components/Post/Post.js","components/Post/Row.js","components/Pagination.js","components/Post/Joined.js","components/Hub/Hub.js","components/Hub/HubList.js","components/Hub/HubPath.js","components/Hub/Row.js","components/Hub/ToggleButton.js","components/Hub/New.js","components/Home.js","App.js","serviceWorker.js","index.js","images/undraw_Login_re_4vu2.svg","images/undraw_share_online_r87b.svg"],"names":["getCookie","name","document","cookie","token","split","map","c","trim","filter","startsWith","length","decodeURIComponent","fetchCsrf","url","body","method","a","fetch","mode","credentials","headers","Accept","JSON","stringify","response","json","result","errors","serverError","LoggedInContext","React","createContext","LoggedInProvider","Provider","Login","useState","message","setMessage","submitInput","useRef","useForm","register","handleSubmit","handleLogin","useContext","ToggleLoggedInContext","onSubmit","data","current","disabled","username","password","type","content","Object","keys","Row","style","margin","height","Col","md","src","loginImage","alt","width","padding","Alert","color","toggle","maxWidth","minWidth","placeholder","ref","required","className","aria-label","value","to","Register","watch","submitButton","confirm","email","ShareImage","marginTop","marginBottom","validate","ToggleLoggedInProvider","Radio","options","setSortBy","selected","isToggled","setIsToggled","prefersReducedMotion","usePrefersReducedMotion","toggleDropdown","menubg","useSpring","background","y","immediate","menuAppear","transform","opacity","config","gentle","button","data-testid","onClick","p","interpolate","div","wobbly","option","handleSetOption","key","Search","setSearch","setCurrentPage","Form","search","paddingBottom","Label","for","id","Sidebar","children","collapsed","setCollapsed","localStorage","getItem","theme","setTheme","toggleSidebar","useEffect","setItem","documentElement","setAttribute","icon","faBars","faSun","faMoon","SidebarContent","undefined","AnimatedNav","animated","Nav","loggedIn","navigate","useNavigate","logout","alert","goToRoute","route","routes","faHome","push","faArchway","faSignOutAlt","faSignInAlt","faUser","vertical","NavItem","getInitialState","window","matchMedia","matches","setPrefersReducedMotion","mediaQueryList","addEventListener","event","removeEventListener","LikeButton","likes","uuid","setLikes","console","log","handleLike","faHeart","title","includes","Badge","pill","AnimatedDeck","CardDeck","WrappedPostList","posts","isLoading","deckStyles","from","Spinner","post","textAlign","PostForm","pathname","useLocation","hubs","hub_path","href","target","rel","FormGroup","rows","maxLength","Comment","comment","LoggedinContext","editCommentContent","setContent","editing","setEditing","toggleEditing","editComment","Card","CardHeader","backgroundColor","display","justifyContent","size","string","commenter","marginLeft","CardText","date","Button","fontSize","outline","faWindowClose","faSave","faEdit","CardBody","whiteSpcae","List","comments","page","setPage","slice","commentList","setCommentList","transition","useTransition","enter","pageYOffset","prevCommentList","scroll","top","item","props","overflow","New","setComments","reset","formData","prevComments","error","UncontrolledAlert","Post","useParams","setPost","getPost","flexDirection","poster","hub","full_path","CardTitle","CardSubtitle","CardFooter","faArrowCircleRight","Paginate","currentPage","last","Pagination","paddingRight","PaginationItem","PaginationLink","previous","Set","number","active","next","JoinedHubs","setPosts","sortBy","getPosts","results","total","Hub","setHub","members","joinStatus","setJoinStatus","setIsLoading","items","setItems","setType","pathlist","getHub","getItems","joinHub","status","Jumbotron","paddingTop","whiteSpace","replace","description","ToggleButton","handleTypeChange","HubList","HubPath","hubPath","setHubPath","newHubPath","splice","path","Breadcrumb","index","BreadcrumbItem","join","molasses","friction","borderColor","span","charAt","toUpperCase","NewHub","toLowerCase","Home","App","setLoggedIn","user","getUser","element","Hubs","HubRoutes","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","module","exports"],"mappings":"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","file":"static/js/main.62beefa8.chunk.js","sourcesContent":["function getCookie(name) {\r\n    if (!document.cookie) {\r\n        return null;\r\n    }\r\n    const token = document.cookie\r\n        .split(';')\r\n        .map(c => c.trim())\r\n        .filter(c => c.startsWith(name + '='));\r\n\r\n    if (token.length === 0) {\r\n        return null;\r\n    }\r\n    return decodeURIComponent(token[0].split('=')[1]);\r\n}\r\n\r\nexport async function fetchCsrf(url, body, method) {\r\n    try {\r\n        const response = await fetch(url, {\r\n            method: method,\r\n            mode: 'same-origin',\r\n            credentials: 'include',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'X-CSRFToken': getCookie('csrftoken'),\r\n            },\r\n            body: JSON.stringify(body),\r\n        });\r\n        const result = await response.json();\r\n        return result;\r\n    } catch {\r\n        return {\r\n            errors: {\r\n                serverError: ['An error has occured, please try again later'],\r\n            },\r\n        };\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nconst LoggedInContext = React.createContext({});\r\nexport const LoggedInProvider = LoggedInContext.Provider;\r\n\r\nexport default LoggedInContext;\r\n","import React, { useState, useContext, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Alert, Row, Col } from 'reactstrap';\r\nimport { useForm } from 'react-hook-form';\r\nimport { ToggleLoggedInContext, fetchCsrf } from './';\r\nimport loginImage from '../../images/undraw_Login_re_4vu2.svg';\r\nimport '../../style/auth.css';\r\n\r\nexport default function Login() {\r\n    const [message, setMessage] = useState({});\r\n    const submitInput = useRef();\r\n    const { register, errors, handleSubmit } = useForm();\r\n    const handleLogin = useContext(ToggleLoggedInContext);\r\n\r\n    const toggleMessage = () => setMessage({});\r\n\r\n    const onSubmit = async data => {\r\n        submitInput.current.disabled = true;\r\n        if (data.username.length <= 0 || data.password.length <= 0) {\r\n            setMessage({ type: 'danger', content: 'Fill out all fields!' });\r\n            submitInput.current.disabled = false;\r\n            return false;\r\n        }\r\n        const result = await fetchCsrf('/knowledge/login', data, 'POST');\r\n        if (result.errors) {\r\n            setMessage({\r\n                type: 'danger',\r\n                content: result.errors[Object.keys(result.errors)[0]],\r\n            });\r\n            submitInput.current.disabled = false;\r\n            return false;\r\n        }\r\n        submitInput.current.disabled = false;\r\n        handleLogin(result.username);\r\n    };\r\n\r\n    return (\r\n        <Row style={{ margin: '15px', height: '100%' }}>\r\n            <Col md=\"12\">\r\n                <h4>\r\n                    Welcome back! Login to start interacting with other users\r\n                </h4>\r\n                <img\r\n                    src={loginImage}\r\n                    alt=\"login\"\r\n                    style={{ width: '50vw', padding: '20px' }}\r\n                />\r\n            </Col>\r\n            <Col md=\"12\">\r\n                {message.content && (\r\n                    <Alert color={message.type} toggle={toggleMessage}>\r\n                        {message.content}\r\n                    </Alert>\r\n                )}\r\n                <form\r\n                    onSubmit={handleSubmit(onSubmit)}\r\n                    style={{\r\n                        margin: 'auto',\r\n                        maxWidth: '320px',\r\n                        minWidth: '0px',\r\n                    }}\r\n                >\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Username\"\r\n                        ref={register({ required: true })}\r\n                        className=\"form-control input\"\r\n                        name=\"username\"\r\n                        aria-label=\"username\"\r\n                    />\r\n                    {errors.username && (\r\n                        <p className=\"error-message\">\r\n                            Remember to fill out the username!\r\n                        </p>\r\n                    )}\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        ref={register({ required: true })}\r\n                        className=\"form-control input\"\r\n                        name=\"password\"\r\n                        aria-label=\"password\"\r\n                    />\r\n                    {errors.password && (\r\n                        <p className=\"error-message\">\r\n                            Remember to fill out the password!\r\n                        </p>\r\n                    )}\r\n                    <input\r\n                        type=\"submit\"\r\n                        value=\"Login\"\r\n                        ref={submitInput}\r\n                        aria-label=\"login\"\r\n                        className=\"btn btn-primary\"\r\n                    />\r\n                    <footer>\r\n                        <small>\r\n                            Don't have an account? Register{' '}\r\n                            <Link to=\"/register\">here</Link>\r\n                        </small>\r\n                    </footer>\r\n                </form>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n","import React, { useContext, useRef, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { ToggleLoggedInContext, fetchCsrf } from './';\r\nimport { Col, Alert, Row } from 'reactstrap';\r\n\r\nimport ShareImage from '../../images/undraw_share_online_r87b.svg';\r\nimport '../../style/auth.css';\r\n\r\nexport default function Register() {\r\n    const { handleSubmit, errors, register, watch } = useForm();\r\n    const handleLogin = useContext(ToggleLoggedInContext);\r\n    const submitButton = useRef();\r\n    const [message, setMessage] = useState({});\r\n\r\n    const toggleMessage = () => setMessage({});\r\n\r\n    const onSubmit = async data => {\r\n        submitButton.current.disabled = true;\r\n        if (\r\n            data.username.length <= 0 ||\r\n            data.password.length <= 0 ||\r\n            data.confirm.length <= 0 ||\r\n            data.email.length <= 0\r\n        ) {\r\n            submitButton.current.disabled = false;\r\n            setMessage({ type: 'danger', content: 'Fill out all fields!' });\r\n            return false;\r\n        } else if (data.password !== data.confirm) {\r\n            submitButton.current.disabled = false;\r\n            setMessage({\r\n                type: 'danger',\r\n                content: 'Password and confirm fields must match!',\r\n            });\r\n            return false;\r\n        }\r\n        const result = await fetchCsrf('/knowledge/register', data, 'POST');\r\n        if (result.errors) {\r\n            submitButton.current.disabled = false;\r\n            setMessage({\r\n                type: 'danger',\r\n                content: result.errors[Object.keys(result.errors)[0]],\r\n            });\r\n            return false;\r\n        }\r\n        submitButton.current.disabled = false;\r\n        handleLogin(result.username);\r\n    };\r\n\r\n    return (\r\n        <Row style={{ margin: '15px' }}>\r\n            <Col md=\"12\">\r\n                <h4>Welcome! Register to interact with other users.</h4>\r\n                <img\r\n                    src={ShareImage}\r\n                    alt=\"Share online\"\r\n                    style={{ width: '40vw', padding: '20px' }}\r\n                />\r\n            </Col>\r\n            <Col md=\"12\">\r\n                {message.content && (\r\n                    <Alert color={message.type} toggle={toggleMessage}>\r\n                        {message.content}\r\n                    </Alert>\r\n                )}\r\n                <form\r\n                    style={{\r\n                        padding: '10px',\r\n                        margin: 'auto',\r\n                        maxWidth: '320px',\r\n                    }}\r\n                    onSubmit={handleSubmit(onSubmit)}\r\n                >\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Username\"\r\n                        ref={register({ required: true })}\r\n                        className=\"form-control input\"\r\n                        name=\"username\"\r\n                        aria-label=\"username\"\r\n                    />\r\n                    {errors.username && (\r\n                        <p className=\"error-message\">\r\n                            Remember to fill out the username!\r\n                        </p>\r\n                    )}\r\n                    <input\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        className=\"form-control input\"\r\n                        name=\"email\"\r\n                        aria-label=\"email\"\r\n                        ref={register({ required: true })}\r\n                        style={{ marginTop: '10px', marginBottom: '10px' }}\r\n                    />\r\n                    {errors.email && (\r\n                        <p className=\"error-message\">\r\n                            Remember to fill out the email!\r\n                        </p>\r\n                    )}\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        className=\"form-control input\"\r\n                        name=\"password\"\r\n                        aria-label=\"password\"\r\n                        ref={register({\r\n                            required: true,\r\n                            validate: value => value === watch('confirm'),\r\n                        })}\r\n                        style={{ marginTop: '10px', marginBottom: '10px' }}\r\n                    />\r\n                    {errors.password && (\r\n                        <p className=\"error-message\">\r\n                            {errors.password.type === 'required'\r\n                                ? 'Remember to fill out the password!'\r\n                                : 'Password and confirm fields must match!'}\r\n                        </p>\r\n                    )}\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Confirm password\"\r\n                        className=\"form-control input\"\r\n                        name=\"confirm\"\r\n                        ref={register({ required: true })}\r\n                        aria-label=\"confirm\"\r\n                        style={{ marginTop: '10px', marginBottom: '10px' }}\r\n                    />\r\n                    {errors.confirm && (\r\n                        <p className=\"error-message\">\r\n                            Remember to fill out the confirm password!\r\n                        </p>\r\n                    )}\r\n\r\n                    <input\r\n                        type=\"submit\"\r\n                        value=\"Register\"\r\n                        aria-label=\"register\"\r\n                        ref={submitButton}\r\n                        className=\"btn btn-primary\"\r\n                    />\r\n                </form>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nconst ToggleLoggedInContext = React.createContext({});\r\nexport const ToggleLoggedInProvider = ToggleLoggedInContext.Provider;\r\n\r\nexport default ToggleLoggedInContext;\r\n","import React, { useState } from 'react';\r\nimport { useSpring, animated, config } from 'react-spring';\r\nimport { usePrefersReducedMotion } from './';\r\nimport '../../style/dropdown.css';\r\n\r\nexport default function Radio({ options, setSortBy, selected }) {\r\n    const [isToggled, setIsToggled] = useState(false);\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n    const toggleDropdown = () => setIsToggled(!isToggled);\r\n\r\n    const menubg = useSpring({ background: isToggled ? '#68d8ee' : '#8ee4f5' });\r\n    const { y } = useSpring({\r\n        y: isToggled ? 180 : 0,\r\n        immediate: prefersReducedMotion,\r\n    });\r\n    const menuAppear = useSpring({\r\n        transform: isToggled ? 'translateY(0)' : 'translateY(-40px)',\r\n        opacity: isToggled ? 1 : 0,\r\n        config: config.gentle,\r\n        immediate: prefersReducedMotion,\r\n    });\r\n\r\n    const handleSetOption = option => {\r\n        //Wait for items to disappear before toggle\r\n        setSortBy(option);\r\n        toggleDropdown();\r\n    };\r\n\r\n    return (\r\n        <div className=\"radio-container\">\r\n            <animated.button\r\n                style={menubg}\r\n                data-testid=\"toggle\"\r\n                className=\"radio-wrapper\"\r\n                onClick={toggleDropdown}\r\n            >\r\n                <div className=\"radio\">\r\n                    <p className=\"visually-hidden\">Change sort options</p>\r\n                    <p>{selected}</p>\r\n                    <animated.p\r\n                        style={{\r\n                            transform: y.interpolate(y => `rotateX(${y}deg)`),\r\n                        }}\r\n                    >\r\n                        {isToggled ? 'X' : '▼'}\r\n                    </animated.p>\r\n                </div>\r\n            </animated.button>\r\n            <animated.div style={menuAppear} config={config.wobbly}>\r\n                {isToggled && (\r\n                    <div className=\"radio-content\">\r\n                        {options.map(option => (\r\n                            <div\r\n                                onClick={() => handleSetOption(option)}\r\n                                key={option[0]}\r\n                            >\r\n                                <button>{option[1]}</button>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </animated.div>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport '../../style/auth.css';\r\nimport { Form, Label } from 'reactstrap';\r\n\r\nexport default function Search({ setSearch, type, setCurrentPage }) {\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    const onSubmit = data => {\r\n        setSearch(data.search);\r\n        //Set the current page to avoid errors if the pages count is less than the current page\r\n        setCurrentPage(1);\r\n    };\r\n\r\n    return (\r\n        <Form\r\n            onSubmit={handleSubmit(onSubmit)}\r\n            style={{ padding: '20px 2rem', paddingBottom: '0px' }}\r\n        >\r\n            <Label for=\"search\">Find specific {type}</Label>\r\n            <input\r\n                className=\"form-control\"\r\n                placeholder=\"What do you want to search for?\"\r\n                type=\"text\"\r\n                name=\"search\"\r\n                id=\"search\"\r\n                ref={register}\r\n                style={{ marginBottom: '15px' }}\r\n            />\r\n            <input className=\"btn btn-primary\" value=\"Search\" type=\"submit\" />\r\n        </Form>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { SidebarContent, usePrefersReducedMotion } from './';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSun, faMoon, faBars } from '@fortawesome/free-solid-svg-icons';\r\nimport { useSpring } from 'react-spring';\r\nimport './../../style/navbar.css';\r\n\r\nexport default function Sidebar({ children }) {\r\n    const [collapsed, setCollapsed] = useState(true);\r\n    const [theme, setTheme] = useState(localStorage.getItem('theme'));\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n\r\n    const content = useSpring({\r\n        opacity: !collapsed ? 1 : 0,\r\n        transform: !collapsed\r\n            ? 'translate3D(0%, 0, 0)'\r\n            : 'translate3D(-100%, 0, 0)',\r\n        immediate: prefersReducedMotion,\r\n    });\r\n\r\n    const toggleTheme = () => setTheme(theme === 'dark' ? 'light' : 'dark');\r\n\r\n    const toggleSidebar = () => {\r\n        setCollapsed(!collapsed);\r\n    };\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('theme', theme);\r\n        document.documentElement.setAttribute('data-theme', theme);\r\n    }, [theme]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"navnavbar\">\r\n                <button\r\n                    style={{ padding: '0px ' }}\r\n                    onClick={toggleSidebar}\r\n                    className=\"navnavicon\"\r\n                >\r\n                    <FontAwesomeIcon icon={faBars} />\r\n                    <span className=\"visually-hidden\">Toggle sidebar</span>\r\n                </button>\r\n                <button\r\n                    className=\"theme navnavicon\"\r\n                    style={{ padding: '0px ' }}\r\n                    onClick={toggleTheme}\r\n                >\r\n                    <FontAwesomeIcon\r\n                        className=\"theme\"\r\n                        icon={theme === 'dark' ? faSun : faMoon}\r\n                    />\r\n                </button>\r\n            </div>\r\n            <SidebarContent toggleSidebar={toggleSidebar} style={content} />\r\n            <div\r\n                style={{ filter: !collapsed && 'blur(5px)' }}\r\n                onClick={!collapsed ? toggleSidebar : undefined}\r\n            >\r\n                {children}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Nav, NavItem } from 'reactstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n    faArchway,\r\n    faHome,\r\n    faSignInAlt,\r\n    faSignOutAlt,\r\n    faUser,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { ToggleLoggedInContext, LoggedInContext } from '../Auth';\r\nimport { animated } from 'react-spring';\r\nimport '../../style/navbar.css';\r\n\r\nconst AnimatedNav = animated(Nav);\r\n\r\nexport default function SidebarContent({ toggleSidebar, style }) {\r\n    const loggedIn = useContext(LoggedInContext);\r\n    const handleLogin = useContext(ToggleLoggedInContext);\r\n    const navigate = useNavigate();\r\n\r\n    const logout = async () => {\r\n        const response = await fetch('/knowledge/logout');\r\n        const result = await response.json();\r\n        if (result.errors) {\r\n            alert('An error has occured');\r\n            return;\r\n        }\r\n        alert('Logged out successfully!');\r\n        handleLogin(null);\r\n        toggleSidebar();\r\n    };\r\n\r\n    const goToRoute = route => {\r\n        navigate(route);\r\n        toggleSidebar();\r\n    };\r\n\r\n    //Generate the routes based on whether the user is logged in or not\r\n    const routes = [\r\n        {\r\n            onClick: () => goToRoute('/'),\r\n            icon: faHome,\r\n            name: 'Home',\r\n        },\r\n    ];\r\n    loggedIn\r\n        ? routes.push(\r\n              {\r\n                  onClick: () => goToRoute('/joined'),\r\n                  icon: faArchway,\r\n                  name: 'Your hubs',\r\n              },\r\n              {\r\n                  onClick: logout,\r\n                  icon: faSignOutAlt,\r\n                  name: 'Logout',\r\n              }\r\n          )\r\n        : routes.push(\r\n              {\r\n                  onClick: () => goToRoute('/login'),\r\n                  icon: faSignInAlt,\r\n                  name: 'Login',\r\n              },\r\n              {\r\n                  onClick: () => goToRoute('/register'),\r\n                  icon: faUser,\r\n                  name: 'Register',\r\n              }\r\n          );\r\n\r\n    return (\r\n        <AnimatedNav vertical style={style} className=\"navnav\">\r\n            <h3>Share</h3>\r\n            <hr />\r\n            {routes.map(route => (\r\n                <NavItem key={route.name}>\r\n                    <button\r\n                        onClick={route.onClick}\r\n                        className=\"navnavbutton navnavlink\"\r\n                    >\r\n                        <FontAwesomeIcon\r\n                            icon={route.icon}\r\n                            className=\"navnavitem\"\r\n                        />\r\n                        <p className=\"navnavtext\">{route.name}</p>\r\n                    </button>\r\n                </NavItem>\r\n            ))}\r\n        </AnimatedNav>\r\n    );\r\n}\r\n","import { useState, useEffect } from 'react';\r\n\r\n//Hook used for accesibility purposes to disable animations\r\n\r\nconst getInitialState = () =>\r\n    !window.matchMedia('(prefers-reduced-motion: no-preference)').matches;\r\n\r\nexport default function usePrefersReducedMotion() {\r\n    const [prefersReducedMotion, setPrefersReducedMotion] = useState(\r\n        getInitialState\r\n    );\r\n\r\n    useEffect(() => {\r\n        const mediaQueryList = window.matchMedia(\r\n            '(prefers-reduced-motion: no-preference)'\r\n        );\r\n        mediaQueryList.addEventListener('change', event => {\r\n            setPrefersReducedMotion(!event.matches);\r\n        });\r\n\r\n        return () => {\r\n            mediaQueryList.removeEventListener('change', event => {\r\n                setPrefersReducedMotion(!event.matches);\r\n            });\r\n        };\r\n    }, []);\r\n    return prefersReducedMotion;\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faHeart } from '@fortawesome/free-solid-svg-icons';\r\nimport { fetchCsrf } from '../Auth/fetchCsrf';\r\nimport { Badge } from 'reactstrap';\r\nimport { LoggedInContext } from '../Auth';\r\nimport '../../style/post.css';\r\n\r\nexport default function LikeButton({ likes, uuid, setLikes }) {\r\n    const loggedIn = useContext(LoggedInContext);\r\n    console.log(likes);\r\n\r\n    const handleLike = async () => {\r\n        const result = await fetchCsrf(`/knowledge/post/${uuid}`, {}, 'PUT');\r\n        if (result.errors) {\r\n            alert('An error has occured. Try again later.');\r\n        } else {\r\n            setLikes(result.likes);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {loggedIn && (\r\n                <button onClick={handleLike} className=\"like-button\">\r\n                    <FontAwesomeIcon\r\n                        icon={faHeart}\r\n                        title=\"like button\"\r\n                        className={\r\n                            likes.includes(loggedIn)\r\n                                ? 'dislike-icon'\r\n                                : 'like-icon'\r\n                        }\r\n                    />\r\n                    <span className=\"visually-hidden\">\r\n                        {likes.includes(loggedIn) ? 'Like' : 'Dislike'}\r\n                        the post\r\n                    </span>\r\n                </button>\r\n            )}\r\n            <Badge pill color=\"info\">\r\n                {likes.length}\r\n            </Badge>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { PostRow } from './';\r\nimport { CardDeck, Spinner } from 'reactstrap';\r\nimport { animated, useSpring } from 'react-spring';\r\nimport { usePrefersReducedMotion } from '../General';\r\n\r\nconst AnimatedDeck = animated(CardDeck);\r\n\r\nexport default function WrappedPostList({ posts, isLoading }) {\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n\r\n    const deckStyles = useSpring({\r\n        from: {\r\n            transform: 'translate3D(100px,0,0)',\r\n        },\r\n        to: {\r\n            transform: 'translate3D(0,0,0)',\r\n        },\r\n        immediate: prefersReducedMotion,\r\n    });\r\n    //Handle no posts, temporal fix as for the poster, handle the type rerender before the items update\r\n    return isLoading ? (\r\n        <Spinner color=\"primary\" />\r\n    ) : posts.length > 0 ? (\r\n        <AnimatedDeck style={deckStyles} className=\"deck\">\r\n            {posts.map(post => (\r\n                <PostRow post={post} key={post.id} />\r\n            ))}\r\n        </AnimatedDeck>\r\n    ) : (\r\n        <h5 style={{ margin: '20px', textAlign: 'center' }}>\r\n            Nothing to see here!\r\n        </h5>\r\n    );\r\n}\r\n","import React, { useRef, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { FormGroup, Form, Label, Alert } from 'reactstrap';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { fetchCsrf } from '../Auth';\r\nimport TextArea from 'react-autosize-textarea';\r\n\r\nexport default function PostForm() {\r\n    const submitButton = useRef();\r\n    const { register, handleSubmit, errors } = useForm();\r\n    const [message, setMessage] = useState({});\r\n    const { pathname } = useLocation();\r\n    const navigate = useNavigate();\r\n\r\n    const toggleMessage = () => setMessage({});\r\n\r\n    const onSubmit = async data => {\r\n        submitButton.current.disabled = true;\r\n        data.hubs = pathname.split('/');\r\n        const result = await fetchCsrf('/knowledge/new/post', data, 'POST');\r\n        //Check for server errors\r\n        if (result.errors) {\r\n            submitButton.current.disabled = false;\r\n            setMessage({\r\n                type: 'danger',\r\n                content: result.errors[Object.keys(result.errors)[0]],\r\n            });\r\n            return false;\r\n        }\r\n        submitButton.current.disabled = true;\r\n        navigate(`/hubs/${result.hub_path}`);\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: '20px' }}>\r\n            <h3>New post</h3>\r\n            {message.content && (\r\n                <Alert color={message.type} toggle={toggleMessage}>\r\n                    {message.content}\r\n                </Alert>\r\n            )}\r\n            <Form\r\n                style={{ margin: '10px' }}\r\n                method=\"POST\"\r\n                onSubmit={handleSubmit(onSubmit)}\r\n            >\r\n                <h6>\r\n                    In here you make a new post. The content will be rendered\r\n                    using markdown.{' '}\r\n                    <a\r\n                        href=\"https://www.markdowntutorial.com/\"\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                    >\r\n                        What is markdown and how to use it.\r\n                    </a>\r\n                </h6>\r\n                <FormGroup>\r\n                    <Label for=\"title\">Title: </Label>\r\n                    <input\r\n                        type=\"text\"\r\n                        aria-label=\"title\"\r\n                        name=\"title\"\r\n                        id=\"title\"\r\n                        placeholder=\"Title...\"\r\n                        className=\"form-control\"\r\n                        ref={register({\r\n                            required: true,\r\n                            validate: value => value.length < 65,\r\n                        })}\r\n                    />\r\n                    {errors.title && (\r\n                        <p className=\"error-message\">\r\n                            {errors.title.type === 'required'\r\n                                ? 'You must provide a title!'\r\n                                : 'Title must be 64 characters at most!'}\r\n                        </p>\r\n                    )}\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    <Label for=\"content\">Content: </Label>\r\n                    <TextArea\r\n                        type=\"text\"\r\n                        aria-label=\"content\"\r\n                        name=\"content\"\r\n                        id=\"content\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Some good content...\"\r\n                        ref={register({ required: true })}\r\n                        rows={20}\r\n                        maxLength=\"2050\"\r\n                    />\r\n                    {errors.content && (\r\n                        <p className=\"error-message\">\r\n                            You must provide some content!\r\n                        </p>\r\n                    )}\r\n                </FormGroup>\r\n                <input\r\n                    type=\"submit\"\r\n                    value=\"Create post\"\r\n                    className=\"btn btn-primary\"\r\n                    ref={submitButton}\r\n                />\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useContext, useRef, useState } from 'react';\r\nimport { Card, CardHeader, CardText, CardBody, Button } from 'reactstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n    faEdit,\r\n    faSave,\r\n    faWindowClose,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { fetchCsrf } from '../Auth';\r\nimport Identicon from 'react-identicons';\r\nimport TextArea from 'react-autosize-textarea';\r\nimport Markdown from 'react-markdown';\r\nimport LoggedinContext from '../Auth/LoggedInContext';\r\nimport '../../style/post.css';\r\n\r\nexport default function Comment({ comment }) {\r\n    const loggedIn = useContext(LoggedinContext);\r\n    const editCommentContent = useRef();\r\n    const [content, setContent] = useState(comment.content);\r\n    const [editing, setEditing] = useState(false);\r\n\r\n    const toggleEditing = () => setEditing(!editing);\r\n\r\n    const editComment = async () => {\r\n        if (editCommentContent.current) {\r\n            const { value } = editCommentContent.current;\r\n            if (value.length > 256) {\r\n                alert('Comment must be less than 256 characters long');\r\n                return;\r\n            }\r\n            setContent(value);\r\n            const result = await fetchCsrf(\r\n                `/knowledge/comment/${comment.id}`,\r\n                { content: value },\r\n                'PUT'\r\n            );\r\n            if (result.errors) {\r\n                alert(result.errors[Object.keys(result.errors)[0]]);\r\n            }\r\n        }\r\n        toggleEditing();\r\n    };\r\n    return (\r\n        <Card style={{ marginTop: '20px', marginBottom: '20px' }}>\r\n            <CardHeader\r\n                style={{\r\n                    backgroundColor: 'rgb(203, 223, 230)',\r\n                    display: 'inline-flex',\r\n                    justifyContent: 'space-between',\r\n                }}\r\n            >\r\n                <div>\r\n                    <div style={{ display: 'inline-flex' }}>\r\n                        <Identicon\r\n                            size=\"28\"\r\n                            string={comment.commenter.username}\r\n                        />\r\n                        <h4 style={{ marginLeft: '10px' }}>\r\n                            {comment.commenter.username}\r\n                        </h4>\r\n                    </div>\r\n                    <CardText className=\"text-muted\">{comment.date}</CardText>\r\n                </div>\r\n                {comment.commenter.username === loggedIn && (\r\n                    <div>\r\n                        {editing && (\r\n                            <Button\r\n                                color=\"danger\"\r\n                                style={{ fontSize: '0.9rem' }}\r\n                                outline\r\n                                title=\"Cancel\"\r\n                                onClick={toggleEditing}\r\n                            >\r\n                                <span className=\"visually-hidden\">cancel</span>\r\n                                <FontAwesomeIcon icon={faWindowClose} />\r\n                            </Button>\r\n                        )}\r\n                        <Button\r\n                            color={editing ? 'success' : 'primary'}\r\n                            style={{ marginLeft: '10px', fontSize: '0.9rem' }}\r\n                            outline\r\n                            title={editing ? 'Save' : 'Edit'}\r\n                            disabled={\r\n                                editCommentContent.current &&\r\n                                editCommentContent.current.length < 1\r\n                            }\r\n                            onClick={editComment}\r\n                        >\r\n                            <span className=\"visually-hidden\">\r\n                                {editing ? 'save' : 'edit'}\r\n                            </span>\r\n                            <FontAwesomeIcon icon={editing ? faSave : faEdit} />\r\n                        </Button>\r\n                    </div>\r\n                )}\r\n            </CardHeader>\r\n            <CardBody style={{ backgroundColor: 'rgb(215, 245, 255)' }}>\r\n                {editing ? (\r\n                    <TextArea\r\n                        className=\"edit-comment\"\r\n                        ref={editCommentContent}\r\n                        maxLength=\"256\"\r\n                    >\r\n                        {content}\r\n                    </TextArea>\r\n                ) : (\r\n                    <Markdown\r\n                        style={{\r\n                            whiteSpcae: 'preWrap',\r\n                            marginTop: '0px',\r\n                            marginBottom: '1rem',\r\n                        }}\r\n                    >\r\n                        {content}\r\n                    </Markdown>\r\n                )}\r\n            </CardBody>\r\n        </Card>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Comment from './Comment';\r\nimport { useTransition, animated, config } from 'react-spring';\r\nimport { usePrefersReducedMotion } from '../General';\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport default function List({ comments }) {\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n    const [page, setPage] = useState(1);\r\n    const [commentList, setCommentList] = useState(comments.slice(0, 5));\r\n\r\n    const transition = useTransition(commentList, comment => comment.id, {\r\n        from: {\r\n            opacity: 0,\r\n            transform: 'translate3D(-100px,0,0)',\r\n        },\r\n        enter: { opacity: 1, transform: 'translate3D(0,0,0)' },\r\n        config: config.wobbly,\r\n        immediate: prefersReducedMotion,\r\n    });\r\n\r\n    const handleLoadMore = () => {\r\n        setCommentList([\r\n            ...commentList,\r\n            ...comments.slice(page * 5, (page + 1) * 5),\r\n        ]);\r\n        setPage(page + 1);\r\n    };\r\n\r\n    let pageYOffset = window.pageYOffset;\r\n\r\n    useEffect(() => {\r\n        if (comments[0] !== undefined)\r\n            setCommentList(prevCommentList => [\r\n                comments[0],\r\n                ...prevCommentList.slice(1),\r\n            ]);\r\n    }, [comments]);\r\n\r\n    //Keep the same page scroll so that the comments don't appear at the bottom.\r\n    useEffect(() => {\r\n        window.scroll({ top: pageYOffset });\r\n    }, [commentList, pageYOffset]);\r\n\r\n    return (\r\n        <div>\r\n            {transition.map(({ item, key, props }) => (\r\n                <animated.div\r\n                    style={{ ...props, overflow: 'hidden' }}\r\n                    key={key}\r\n                >\r\n                    <Comment comment={item} />\r\n                </animated.div>\r\n            ))}\r\n            {page * 5 <= comments.length && (\r\n                <button\r\n                    className=\"btn btn-primary center\"\r\n                    onClick={handleLoadMore}\r\n                >\r\n                    Load more\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useRef } from 'react';\r\nimport { fetchCsrf } from '../Auth';\r\nimport { Form, FormGroup, UncontrolledAlert } from 'reactstrap';\r\nimport { useForm } from 'react-hook-form';\r\nimport TextArea from 'react-autosize-textarea';\r\n\r\nexport default function New({ setComments, post }) {\r\n    const { register, handleSubmit, reset, errors } = useForm();\r\n    const [message, setMessage] = useState({});\r\n    const submitButton = useRef();\r\n\r\n    const toggleMessage = () => setMessage({});\r\n\r\n    const onSubmit = async data => {\r\n        //Disable button to prevent submitting twice\r\n        submitButton.current.disabled = true;\r\n\r\n        if (data.content.length < 1) {\r\n            setMessage({\r\n                type: 'danger',\r\n                content: 'You must fill out the comment!',\r\n            });\r\n            submitButton.current.disabled = false;\r\n            return;\r\n        }\r\n        const formData = {\r\n            content: data.content,\r\n            post: post,\r\n        };\r\n        const result = await fetchCsrf('/knowledge/comment', formData, 'POST');\r\n        //Check for server errors\r\n        if (result.errors) {\r\n            setMessage({\r\n                type: 'danger',\r\n                content: result.errors[Object.keys(result.errors)[0]],\r\n            });\r\n        } else {\r\n            setMessage({\r\n                type: 'success',\r\n                content: 'Comment posted successfully.',\r\n            });\r\n            reset();\r\n        }\r\n        submitButton.current.disabled = false;\r\n        //Add comment to comment lists\r\n        try {\r\n            setComments(prevComments => [result.comment, ...prevComments]);\r\n        } catch (error) {\r\n            alert(\r\n                'Something went wrong in showing your comment. It should show when you reload though.'\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {message.content && (\r\n                <UncontrolledAlert color={message.type} toggle={toggleMessage}>\r\n                    {message.content}\r\n                </UncontrolledAlert>\r\n            )}\r\n            {errors.content && (\r\n                <UncontrolledAlert color=\"danger\">\r\n                    {errors.content.type === 'required'\r\n                        ? 'You must fill out the comment!'\r\n                        : 'Comment must be under 257 characters!'}\r\n                </UncontrolledAlert>\r\n            )}\r\n            <Form onSubmit={handleSubmit(onSubmit)}>\r\n                <FormGroup>\r\n                    <TextArea\r\n                        ref={register({\r\n                            required: true,\r\n                            validate: value => value.length < 257,\r\n                        })}\r\n                        placeholder=\"A valuable comment...\"\r\n                        name=\"content\"\r\n                        aria-label=\"Comment content\"\r\n                        className=\"form-control\"\r\n                    />\r\n                </FormGroup>\r\n                <input\r\n                    type=\"submit\"\r\n                    value=\"Share your comment\"\r\n                    className=\"btn btn-primary\"\r\n                    ref={submitButton}\r\n                />\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Alert, Badge, Spinner } from 'reactstrap';\r\nimport { CommentList, NewComment } from '../Comment';\r\nimport { LoggedInContext } from '../Auth';\r\nimport { LikeButton } from './';\r\nimport Identicon from 'react-identicons';\r\nimport Markdown from 'react-markdown';\r\nimport '../../style/post.css';\r\n\r\nexport default function Post() {\r\n    const { uuid } = useParams();\r\n    const [post, setPost] = useState({});\r\n    const [likes, setLikes] = useState();\r\n    const [comments, setComments] = useState([]);\r\n    const loggedIn = useContext(LoggedInContext);\r\n\r\n    useEffect(() => {\r\n        //get the post and set the comments\r\n        const getPost = async () => {\r\n            const response = await fetch(`/knowledge/post/${uuid}`);\r\n            const result = await response.json();\r\n            setPost(result);\r\n            setLikes(result.likes);\r\n            setComments(result.comments);\r\n        };\r\n        getPost();\r\n    }, [uuid]);\r\n\r\n    return !post.content ? (\r\n        !post.error ? (\r\n            <Spinner color=\"primary\" />\r\n        ) : (\r\n            <h2>This post couldn't be found</h2>\r\n        )\r\n    ) : (\r\n        <div style={{ padding: '25px' }}>\r\n            <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                <div style={{ display: 'inline-flex', marginBottom: '10px' }}>\r\n                    <Identicon size=\"33\" string={post.poster.username} />\r\n                    <h3 style={{ marginLeft: '10px' }}>\r\n                        {post.poster.username}\r\n                    </h3>\r\n                </div>\r\n                <Link\r\n                    to={`/hubs/${post.hub.full_path}`}\r\n                    style={{ width: 'min-content' }}\r\n                >\r\n                    <Badge color=\"primary\">{post.hub.title}</Badge>\r\n                </Link>\r\n                {likes && (\r\n                    <LikeButton\r\n                        setLikes={setLikes}\r\n                        likes={likes}\r\n                        uuid={post.uuid}\r\n                    />\r\n                )}\r\n                <footer style={{ fontSize: '12px' }}>{post.date}</footer>\r\n                <h1 id=\"post-title\">{post.title}</h1>\r\n            </div>\r\n            <hr />\r\n            <div className=\"wrapper\">\r\n                <div id=\"post-div\">\r\n                    <Markdown>{post.content}</Markdown>\r\n                </div>\r\n                <hr />\r\n                {loggedIn ? (\r\n                    <NewComment post={post.id} setComments={setComments} />\r\n                ) : (\r\n                    <Alert color=\"danger\">\r\n                        You must be logged in to comment!\r\n                    </Alert>\r\n                )}\r\n                {comments && comments.length > 0 ? (\r\n                    <CommentList comments={comments} />\r\n                ) : (\r\n                    <Alert color=\"info\">There are no comments here!</Alert>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport {\r\n    Card,\r\n    CardText,\r\n    CardBody,\r\n    CardTitle,\r\n    CardSubtitle,\r\n    Col,\r\n    CardHeader,\r\n    CardFooter,\r\n} from 'reactstrap';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowCircleRight } from '@fortawesome/free-solid-svg-icons';\r\nimport Identicon from 'react-identicons';\r\nimport '../../style/post.css';\r\n\r\nexport default function Row({ post }) {\r\n    const navigate = useNavigate();\r\n    const goToPost = () =>\r\n        navigate(`/hubs/${post.hub.full_path}/posts/${post.uuid}`);\r\n\r\n    return (\r\n        <Col md=\"12\" style={{ marginBottom: '30px' }}>\r\n            <Card className=\"hover-card\" onClick={goToPost} title=\"See more\">\r\n                <CardHeader style={{ backgroundColor: '#68d8ee' }}>\r\n                    <CardTitle>\r\n                        <h5>{post.title}</h5>\r\n                    </CardTitle>\r\n                    <CardSubtitle style={{ display: 'inline-flex' }}>\r\n                        <Identicon size=\"20\" string={post.poster.username} />\r\n                        <h6 style={{ marginLeft: '10px' }}>\r\n                            {post.poster.username}\r\n                        </h6>\r\n                    </CardSubtitle>\r\n                </CardHeader>\r\n                <CardBody className=\"back-blue\">\r\n                    <CardText className=\"post-content\">{post.content}</CardText>\r\n                </CardBody>\r\n                <CardFooter className=\"footer back-blue\">\r\n                    <p className=\"card-link\">\r\n                        <Link\r\n                            to={`/hubs/${post.hub.full_path}/posts/${post.uuid}`}\r\n                            aria-label=\"see more\"\r\n                        >\r\n                            <FontAwesomeIcon icon={faArrowCircleRight} />\r\n                            <span className=\"visually-hidden\">See more</span>\r\n                        </Link>\r\n                    </p>\r\n                    <CardText className=\"text-muted\">{post.date}</CardText>\r\n                </CardFooter>\r\n            </Card>\r\n        </Col>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { PaginationItem, PaginationLink, Pagination } from 'reactstrap';\r\n\r\nexport default function Paginate({ setCurrentPage, currentPage, last }) {\r\n    return (\r\n        <Pagination\r\n            style={{\r\n                justifyContent: 'center',\r\n                padding: '10px 1.6rem',\r\n                paddingRight: '3.2rem',\r\n            }}\r\n        >\r\n            {/* Make sure current page isn't the first to disable it */}\r\n            <PaginationItem disabled={currentPage === 1} key=\"prev\">\r\n                <PaginationLink\r\n                    previous\r\n                    onClick={() => setCurrentPage(currentPage - 1)}\r\n                />\r\n            </PaginationItem>\r\n            {/*Make the list of pages uniqui in case the active one is first or last by making the list a set and then a list again*/}\r\n            {[...new Set([1, currentPage, last])].map(number => (\r\n                <PaginationItem active={number === currentPage} key={number}>\r\n                    <PaginationLink onClick={() => setCurrentPage(number)}>\r\n                        {number}\r\n                    </PaginationLink>\r\n                </PaginationItem>\r\n            ))}\r\n            {/* Make sure current page isn't the last to disable it */}\r\n            <PaginationItem disabled={currentPage === last} key=\"next\">\r\n                <PaginationLink\r\n                    next\r\n                    onClick={() => setCurrentPage(currentPage + 1)}\r\n                />\r\n            </PaginationItem>\r\n        </Pagination>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { PostList } from './';\r\nimport { Spinner } from 'reactstrap';\r\nimport { Dropdown } from '../General';\r\nimport Paginate from '../Pagination';\r\n\r\nexport default function JoinedHubs() {\r\n    const [posts, setPosts] = useState(null);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [sortBy, setSortBy] = useState(['-date', 'Newest']);\r\n\r\n    //get the posts for a page\r\n\r\n    useEffect(() => {\r\n        setPosts({});\r\n        const getPosts = async () => {\r\n            const response = await fetch(\r\n                `/knowledge/hub/items/1?page=${currentPage}&sort=${sortBy[0]}&type=posts&search=&filter=true`\r\n            );\r\n            const result = await response.json();\r\n            setPosts(result);\r\n        };\r\n        getPosts();\r\n    }, [currentPage, sortBy]);\r\n\r\n    const options = [\r\n        ['-date', 'Newest'],\r\n        ['date', 'Oldest'],\r\n        ['-likes', 'Most Liked'],\r\n        ['likes', 'Least liked'],\r\n    ];\r\n\r\n    return posts === null ? (\r\n        <Spinner color=\"primary\" />\r\n    ) : (\r\n        <div style={{ overflow: 'hidden' }} className=\"wrapper\">\r\n            <h3 style={{ textAlign: 'center' }}>\r\n                Posts from hubs you belong to\r\n            </h3>\r\n            <Dropdown\r\n                options={options}\r\n                setSortBy={setSortBy}\r\n                selected={sortBy[1]}\r\n            />\r\n            {posts.results ? (\r\n                <>\r\n                    <PostList posts={posts.results} />\r\n                    <Paginate\r\n                        currentPage={currentPage}\r\n                        last={posts.total}\r\n                        setCurrentPage={setCurrentPage}\r\n                    />\r\n                </>\r\n            ) : (\r\n                <Spinner color=\"primary\" />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport { useParams, useLocation, Link } from 'react-router-dom';\r\nimport { Jumbotron, Spinner, Button } from 'reactstrap';\r\nimport { PostList } from '../Post';\r\nimport { HubList, ToggleButton } from './';\r\nimport { Search, Dropdown } from '../General';\r\nimport { fetchCsrf, LoggedInContext } from '../Auth';\r\nimport Paginate from '../Pagination';\r\nimport '../../style/hub.css';\r\n\r\nexport default function Hub() {\r\n    const loggedIn = useContext(LoggedInContext);\r\n    const [hub, setHub] = useState(undefined);\r\n    const [joinStatus, setJoinStatus] = useState(\r\n        hub?.members.includes(loggedIn) ? 'Leave' : 'Join'\r\n    );\r\n    const [sortBy, setSortBy] = useState(['-date', 'Newest']);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [items, setItems] = useState({});\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [type, setType] = useState('posts');\r\n    const [search, setSearch] = useState('');\r\n    const { title } = useParams();\r\n    const pathlist = useLocation().pathname.split('/');\r\n\r\n    useEffect(() => {\r\n        if (!hub) {\r\n            const getHub = async () => {\r\n                const response = await fetch(\r\n                    `/knowledge/hub/details/${title}?list=${pathlist}`\r\n                );\r\n                const result = await response.json();\r\n                setHub(result);\r\n                setJoinStatus(\r\n                    result.members.includes(loggedIn) ? 'Leave' : 'Join'\r\n                );\r\n            };\r\n            getHub();\r\n        }\r\n    }, [title, hub, pathlist, loggedIn]);\r\n\r\n    //Get items for given category and skip if category isn't ready\r\n    useEffect(() => {\r\n        //Reset the items to make the loading effect\r\n        setIsLoading(true);\r\n        //Only fetch if items aren't set and the hub isn't undefined\r\n        if (hub !== undefined) {\r\n            const getItems = async () => {\r\n                const response = await fetch(\r\n                    `/knowledge/hub/items/${hub.id}?sort=${sortBy[0]}&page=${currentPage}&type=${type}&search=${search}`\r\n                );\r\n                const result = await response.json();\r\n                setItems(result);\r\n                setIsLoading(false);\r\n            };\r\n            getItems();\r\n        }\r\n    }, [hub, currentPage, type, search, sortBy, loggedIn]);\r\n\r\n    const handleTypeChange = () => {\r\n        //Set is loading here to prevent memory leaks\r\n        setIsLoading(true);\r\n        //Set the sort by to newest to avoid invalid sort by in the hubs\r\n        setType(type === 'posts' ? 'hubs' : 'posts');\r\n        setSortBy(['-date', 'Newest']);\r\n        //Set the current page to avoid errors if the pages count is less than the current page\r\n        setCurrentPage(1);\r\n    };\r\n\r\n    const joinHub = async () => {\r\n        const result = await fetchCsrf(\r\n            `/knowledge/joined`,\r\n            { hub: hub.id },\r\n            'PUT'\r\n        );\r\n        if (result.errors) {\r\n            alert('An error has occured. Please try again');\r\n            return;\r\n        }\r\n        setJoinStatus(result.status);\r\n    };\r\n\r\n    const options = [\r\n        ['-date', 'Newest'],\r\n        ['date', 'Oldest'],\r\n    ];\r\n    //Posts only sort by options\r\n    if (type === 'posts')\r\n        options.push(['-likes', 'Most Liked'], ['likes', 'Least liked']);\r\n\r\n    return hub === undefined ? (\r\n        <Spinner color=\"primary\" />\r\n    ) : hub.error ? (\r\n        <h3>We couldn't find this hub.</h3>\r\n    ) : (\r\n        <div style={{ overflow: 'hidden' }}>\r\n            <Jumbotron\r\n                style={{\r\n                    paddingTop: 0,\r\n                    marginTop: '-20px',\r\n                    whiteSpace: 'pre-wrap',\r\n                }}\r\n            >\r\n                <hr />\r\n                <h3 className=\"display-3 hub-name\">\r\n                    {title.replace(/-/g, ' ')}\r\n                </h3>\r\n                <Button\r\n                    onClick={joinHub}\r\n                    color=\"success\"\r\n                    style={{ color: 'black' }}\r\n                >\r\n                    {joinStatus}\r\n                </Button>\r\n                <p style={{ fontSize: '1.5rem' }}>{hub.description}</p>\r\n                <hr className=\"my-2\" />\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <ToggleButton\r\n                        type={type}\r\n                        handleTypeChange={handleTypeChange}\r\n                    />\r\n                    {loggedIn && type === 'posts' ? (\r\n                        /*Ensure this isn't a source hub */\r\n                        hub.full_path.includes('/') && (\r\n                            <Link to=\"posts/new\" className=\"lead\">\r\n                                + New post\r\n                            </Link>\r\n                        )\r\n                    ) : (\r\n                        <Link to=\"new\" className=\"lead\">\r\n                            + New Hub\r\n                        </Link>\r\n                    )}\r\n                </div>\r\n            </Jumbotron>\r\n            <div className=\"wrapper\">\r\n                <Search\r\n                    setSearch={setSearch}\r\n                    type={type}\r\n                    setCurrentPage={setCurrentPage}\r\n                />\r\n                <Dropdown\r\n                    options={options}\r\n                    setSortBy={setSortBy}\r\n                    selected={sortBy[1]}\r\n                />\r\n                {type === 'posts' ? (\r\n                    <>\r\n                        <PostList posts={items.results} isLoading={isLoading} />\r\n                        <Paginate\r\n                            currentPage={currentPage}\r\n                            last={items.total}\r\n                            setCurrentPage={setCurrentPage}\r\n                        />\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <HubList hubs={items.results} isLoading={isLoading} />\r\n                        <Paginate\r\n                            currentPage={currentPage}\r\n                            last={items.total}\r\n                            setCurrentPage={setCurrentPage}\r\n                        />\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { animated, useSpring } from 'react-spring';\r\nimport { CardDeck, Spinner } from 'reactstrap';\r\nimport { usePrefersReducedMotion } from '../General';\r\nimport { Row } from './';\r\n\r\nconst AnimatedDeck = animated(CardDeck);\r\n\r\nexport default function HubList({ hubs, isLoading }) {\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n    const deckStyles = useSpring({\r\n        from: {\r\n            transform: 'translate3D(0,100px,0)',\r\n        },\r\n        to: {\r\n            transform: 'translate3D(0,0,0)',\r\n        },\r\n        immediate: prefersReducedMotion,\r\n    });\r\n\r\n    return isLoading ? (\r\n        <Spinner color=\"primary\" />\r\n    ) : hubs.length > 0 ? (\r\n        <AnimatedDeck style={deckStyles} className=\"deck wrapper\">\r\n            {hubs.map(hub => (\r\n                <Row hub={hub} key={hub.id} />\r\n            ))}\r\n        </AnimatedDeck>\r\n    ) : (\r\n        <h5 style={{ margin: '20px', textAlign: 'center' }}>\r\n            Nothing to see here!\r\n        </h5>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { Breadcrumb, BreadcrumbItem } from 'reactstrap';\r\n\r\nexport default function HubPath() {\r\n    const { pathname } = useLocation();\r\n    const [hubPath, setHubPath] = useState(null);\r\n\r\n    useEffect(() => {\r\n        //Make an array from the path\r\n        let newHubPath = pathname.split('/');\r\n        //Remove those 3 from the path\r\n        if (newHubPath[newHubPath.length - 2] === 'posts')\r\n            newHubPath.splice(-2);\r\n        newHubPath = newHubPath.filter(\r\n            path => !['', 'hubs', 'new'].includes(path)\r\n        );\r\n        //Make the check again incase of a leading ''\r\n        if (newHubPath[newHubPath.length - 2] === 'posts')\r\n            newHubPath.splice(-2);\r\n        //Remove the last two items if posts is there\r\n        setHubPath(newHubPath);\r\n    }, [pathname]);\r\n\r\n    return pathname.split('/').includes('hubs') && hubPath ? (\r\n        <Breadcrumb style={{ paddingTop: 0 }}>\r\n            {hubPath.map((hub, index) => (\r\n                <BreadcrumbItem key={index}>\r\n                    <Link to={`/hubs/${hubPath.slice(0, index + 1).join('/')}`}>\r\n                        {hub}\r\n                    </Link>\r\n                </BreadcrumbItem>\r\n            ))}\r\n        </Breadcrumb>\r\n    ) : null;\r\n}\r\n","import React from 'react';\r\nimport {\r\n    Card,\r\n    CardTitle,\r\n    CardText,\r\n    CardHeader,\r\n    CardBody,\r\n    CardFooter,\r\n    Col,\r\n    CardSubtitle,\r\n} from 'reactstrap';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowCircleRight } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport default function Row({ hub }) {\r\n    const navigate = useNavigate();\r\n    const goToHub = () => navigate(hub.title);\r\n\r\n    return (\r\n        <Col md=\"12\" style={{ marginBottom: '30px' }}>\r\n            <Card onClick={goToHub} title=\"Go to hub\" className=\"hover-card\">\r\n                <CardHeader className=\"back-green\">\r\n                    <CardTitle>\r\n                        <h5>{hub.title.replace(/-/g, ' ')}</h5>\r\n                    </CardTitle>\r\n                    <CardSubtitle>\r\n                        <p style={{ fontSize: '0.85em' }}>Made {hub.date}</p>\r\n                    </CardSubtitle>\r\n                </CardHeader>\r\n                <CardBody style={{ backgroundColor: '#a2ffaf' }}>\r\n                    <CardText>{hub.description}</CardText>\r\n                </CardBody>\r\n                <CardFooter className=\"footer back-green\">\r\n                    <p className=\"card-link\">\r\n                        <Link to={`${hub.title}`} aria-label=\"see more\">\r\n                            <FontAwesomeIcon icon={faArrowCircleRight} />\r\n                            <span className=\"visually-hidden\">See more</span>\r\n                        </Link>\r\n                    </p>\r\n                </CardFooter>\r\n            </Card>\r\n        </Col>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { animated, useSpring, config } from 'react-spring';\r\nimport { usePrefersReducedMotion } from '../General';\r\nimport '../../style/hub.css';\r\n\r\nexport default function ToggleButton({ type, handleTypeChange }) {\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n    const { transform, color } = useSpring({\r\n        transform:\r\n            type !== 'hubs' ? 'translate3D(100%,0,0)' : 'translate3d(0,0,0)',\r\n        color: type !== 'hubs' ? 'white' : 'black',\r\n        config: { ...config.molasses, friction: 60 },\r\n        immediate: prefersReducedMotion,\r\n    });\r\n\r\n    return (\r\n        <Button\r\n            color=\"primary\"\r\n            className=\"lead type-toggle-button\"\r\n            onClick={handleTypeChange}\r\n            style={{\r\n                borderColor: type === 'hubs' && '#86eb93',\r\n            }}\r\n        >\r\n            <animated.span style={{ color }} className=\"type-toggle-span\">\r\n                {type.charAt(0).toUpperCase() + type.slice(1)}\r\n            </animated.span>\r\n            <animated.div\r\n                className=\"type-toggle-div\"\r\n                style={{\r\n                    transform: transform,\r\n                }}\r\n            />\r\n        </Button>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { Form, FormGroup, Label, Alert } from 'reactstrap';\r\nimport { fetchCsrf } from '../Auth';\r\n\r\nexport default function NewHub() {\r\n    const { register, errors, handleSubmit } = useForm();\r\n    const [message, setMessage] = useState(null);\r\n    const { pathname } = useLocation();\r\n    const navigate = useNavigate();\r\n\r\n    const toggleMessage = () => setMessage(null);\r\n\r\n    const onSubmit = async data => {\r\n        data.hubs = pathname.split('/');\r\n        //replace spaces with dashes\r\n        data.title = data.title.replace(/ /g, '-');\r\n        const result = await fetchCsrf('/knowledge/new/hub', data, 'POST');\r\n        if (result[0]) {\r\n            setMessage(result[0]);\r\n            return;\r\n        }\r\n        navigate(`/hubs/${result.full_path}`);\r\n    };\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <h2 style={{ textAlign: 'center', marginTop: '30px' }}>\r\n                Make a new hub\r\n            </h2>\r\n            <h5 style={{ margin: '20px' }}>\r\n                Create a new hub to share all sorts of things with others!\r\n            </h5>\r\n            {message && (\r\n                <Alert color=\"danger\" toggle={toggleMessage}>\r\n                    {message}\r\n                </Alert>\r\n            )}\r\n            <Form\r\n                onSubmit={handleSubmit(onSubmit)}\r\n                style={{ textAlign: 'left' }}\r\n            >\r\n                <FormGroup>\r\n                    <Label for=\"title\">Hub name</Label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"title\"\r\n                        className=\"form-control input\"\r\n                        name=\"title\"\r\n                        placeholder=\"A nice name...\"\r\n                        ref={register({\r\n                            required: true,\r\n                            validate: {\r\n                                length: value => value.length < 21,\r\n                                name: value =>\r\n                                    value.toLowerCase() !== 'new' &&\r\n                                    value.toLowerCase() !== 'posts',\r\n                            },\r\n                        })}\r\n                    />\r\n                    {errors.title && (\r\n                        <p className=\"error-message\">\r\n                            {errors.title.type === 'required'\r\n                                ? 'You need to give the hub a name!'\r\n                                : errors.title.type === 'length'\r\n                                ? 'The hub name must be under 21 characters!'\r\n                                : 'That hub name is not allowed!'}\r\n                        </p>\r\n                    )}\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    <Label for=\"description\">The hub description</Label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"description\"\r\n                        className=\"form-control input\"\r\n                        name=\"description\"\r\n                        placeholder=\"An awesome description...\"\r\n                        ref={register({\r\n                            required: true,\r\n                            validate: value => value.length < 101,\r\n                        })}\r\n                    />\r\n                    {errors.description && (\r\n                        <p className=\"error-message\">\r\n                            {errors.description.type === 'required'\r\n                                ? 'You need to give the hub a description!'\r\n                                : 'The hub description must be under 101 characters!'}\r\n                        </p>\r\n                    )}\r\n                </FormGroup>\r\n                <input\r\n                    type=\"submit\"\r\n                    value=\"New hub\"\r\n                    className=\"btn btn-primary\"\r\n                />\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { PostList } from './Post';\r\nimport { Spinner } from 'reactstrap';\r\nimport { Dropdown } from './General';\r\nimport Paginate from './Pagination';\r\n\r\nexport default function Home() {\r\n    const [posts, setPosts] = useState(null);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [sortBy, setSortBy] = useState(['-date', 'Newest']);\r\n\r\n    //get the posts for a page\r\n\r\n    useEffect(() => {\r\n        setPosts({});\r\n        const getPosts = async () => {\r\n            const response = await fetch(\r\n                `knowledge/hub/items/1?page=${currentPage}&sort=${sortBy[0]}&type=posts&search=`\r\n            );\r\n            const result = await response.json();\r\n            setPosts(result);\r\n        };\r\n        getPosts();\r\n    }, [currentPage, sortBy]);\r\n\r\n    const options = [\r\n        ['-date', 'Newest'],\r\n        ['date', 'Oldest'],\r\n        ['-likes', 'Most Liked'],\r\n        ['likes', 'Least liked'],\r\n    ];\r\n\r\n    return posts === null ? (\r\n        <Spinner color=\"primary\" />\r\n    ) : (\r\n        <div style={{ overflow: 'hidden' }}>\r\n            <h3 style={{ textAlign: 'center' }}>Home</h3>\r\n            <Dropdown\r\n                options={options}\r\n                setSortBy={setSortBy}\r\n                selected={sortBy[1]}\r\n            />\r\n            {posts.results ? (\r\n                <>\r\n                    <PostList posts={posts.results} />\r\n                    <Paginate\r\n                        currentPage={currentPage}\r\n                        last={posts.total}\r\n                        setCurrentPage={setCurrentPage}\r\n                    />\r\n                </>\r\n            ) : (\r\n                <Spinner color=\"primary\" />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\nimport {\n    BrowserRouter as Router,\n    Route,\n    Routes,\n    Outlet,\n    Navigate,\n} from 'react-router-dom';\nimport {\n    Register,\n    Login,\n    LoggedInProvider,\n    ToggleLoggedInProvider,\n} from './components/Auth';\nimport { Sidebar } from './components/General';\nimport { Post, NewPost, JoinedPosts } from './components/Post';\nimport { Hub, HubPath, NewHub } from './components/Hub';\nimport Home from './components/Home';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nexport default function App() {\n    const [loggedIn, setLoggedIn] = useState(undefined);\n\n    useEffect(() => {\n        if (loggedIn !== undefined) return () => {};\n        const getUser = async () => {\n            const response = await fetch('/knowledge/login');\n            const { user } = await response.json();\n            setLoggedIn(user);\n        };\n        getUser();\n    }, [loggedIn]);\n\n    return (\n        <Router>\n            <LoggedInProvider value={loggedIn}>\n                <ToggleLoggedInProvider value={setLoggedIn}>\n                    <Sidebar>\n                        <div className=\"App\">\n                            <HubPath />\n                            <Routes>\n                                <Route path=\"/\" element={<Home />} />\n                                <Route\n                                    path=\"/joined\"\n                                    element={\n                                        loggedIn ? <JoinedPosts /> : <Login />\n                                    }\n                                />\n                                <Route\n                                    path=\"/register\"\n                                    element={\n                                        loggedIn ? (\n                                            <Navigate to=\"/\" />\n                                        ) : (\n                                            <Register />\n                                        )\n                                    }\n                                />\n                                <Route\n                                    path=\"/login\"\n                                    element={\n                                        loggedIn ? (\n                                            <Navigate to=\"/\" />\n                                        ) : (\n                                            <Login />\n                                        )\n                                    }\n                                />\n                                <Route path=\"posts/:uuid\" element={<Post />} />\n                                <Route path=\"/hubs/:title*\" element={<Hubs />}>\n                                    <Route path=\"/\" element={<Hub />} />\n                                    <Route\n                                        path=\"posts/:uuid\"\n                                        element={<Post />}\n                                    />\n                                    <Route\n                                        path=\"new\"\n                                        element={\n                                            loggedIn ? <NewHub /> : <Login />\n                                        }\n                                    />\n                                    <Route\n                                        path=\":title*\"\n                                        element={\n                                            <HubRoutes loggedIn={loggedIn} />\n                                        }\n                                    />\n                                </Route>\n                            </Routes>\n                        </div>\n                    </Sidebar>\n                </ToggleLoggedInProvider>\n            </LoggedInProvider>\n        </Router>\n    );\n}\n\nfunction Hubs() {\n    return <Outlet />;\n}\n\n/*\nOkay so you may be looking at this and wonder what the heck is he doing here, and \nsince it's a bit complex I'll explain. What we do here is that we first render\nthe Hub Routes above. The HubRoutes include a Routes component and the specific \nroutes we want. Now, this is made of the index, new post, specific post, and a sub route. \nWhen the path becomes from something like /hub/TITLE to /hub/TITLE/TITLE2,\nOur HubRoutes render itself again with the new TITLE2 route as the main one. This is \nbecause of the :title* path we have. So this allows us to recursively nest hubs. But why \ndoes it work? In the v6 of react router, you only want an Outlet to render the chosen path.\nSo just exposing the new nested routes still works because the Outlet takes their place.\n*/\nfunction HubRoutes({ loggedIn }) {\n    return (\n        <>\n            <Routes>\n                <Route path=\"/\" element={<Hub />} />\n                <Route\n                    path=\"posts/new\"\n                    element={loggedIn ? <NewPost /> : <Login />}\n                />\n                <Route path=\"posts/:uuid\" element={<Post />} />\n                <Route path=\"new\" element={loggedIn ? <NewHub /> : <Login />} />\n                <Route\n                    path=\":title*\"\n                    element={<HubRoutes loggedIn={loggedIn} />}\n                />\n            </Routes>\n        </>\n    );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/undraw_Login_re_4vu2.303e4a67.svg\";","module.exports = __webpack_public_path__ + \"static/media/undraw_share_online_r87b.fbd5ff07.svg\";"],"sourceRoot":""}