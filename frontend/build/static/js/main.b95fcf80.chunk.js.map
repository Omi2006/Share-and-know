{"version":3,"sources":["components/Auth/fetchCsrf.js","components/Auth/ToggleLoginContext.js","components/Auth/Register.js","components/Auth/Login.js","components/Auth/LoggedInContext.js","components/General/SidebarContent.js","components/General/usePrefersReducedMotion.js","components/General/Sidebar.js","components/Comment/Comment.js","components/Comment/List.js","components/Comment/New.js","components/Post/Like.js","components/Post/Post.js","components/Post/New.js","components/Post/Row.js","components/Post/List.js","components/Pagination.js","components/General/Dropdown.js","components/Home.js","components/Hub/Row.js","components/Hub/HubList.js","components/General/Search.js","components/Hub/ToggleButton.js","components/Hub/Hub.js","App.js","serviceWorker.js","index.js","images/undraw_share_online_r87b.svg","images/undraw_Login_re_4vu2.svg"],"names":["getCookie","name","document","cookie","token","split","map","c","trim","filter","startsWith","length","decodeURIComponent","fetchCsrf","url","body","method","a","fetch","mode","credentials","headers","Accept","JSON","stringify","response","json","result","ToggleLoggedinContext","React","createContext","ToggleLoggedinProvider","Provider","Register","useForm","handleSubmit","errors","register","watch","handleLogin","useContext","submitButton","useRef","useState","message","setMessage","onSubmit","data","current","disabled","username","password","confirm","email","type","content","Object","keys","Row","style","margin","Col","md","src","ShareImage","alt","width","padding","Alert","color","toggle","maxWidth","placeholder","ref","required","className","aria-label","marginTop","marginBottom","validate","value","Login","submitInput","height","loginImage","minWidth","to","LoggedinContext","LoggedinProvider","AnimatedNav","animated","Nav","SidebarContent","toggleSidebar","loggedIn","LoggedInContext","navigate","useNavigate","logout","alert","goToRoute","route","routes","onClick","icon","faHome","push","faPlus","faSignOutAlt","faSignInAlt","faUser","vertical","NavItem","key","getInitialState","window","matchMedia","matches","usePrefersReducedMotion","prefersReducedMotion","setPrefersReducedMotion","useEffect","mediaQueryList","addEventListener","event","removeEventListener","Sidebar","children","collapsed","setCollapsed","localStorage","getItem","theme","setTheme","useSpring","opacity","transform","immediate","setItem","documentElement","setAttribute","faBars","faSun","faMoon","undefined","Comment","comment","editCommentContent","setContent","editing","setEditing","toggleEditing","editComment","id","Card","CardHeader","backgroundColor","display","justifyContent","commenter","CardText","date","Button","fontSize","outline","title","faWindowClose","marginLeft","faSave","faEdit","CardBody","maxLength","whiteSpcae","List","comments","page","setPage","slice","commentList","setCommentList","transition","useTransition","from","enter","config","wobbly","pageYOffset","prevCommentList","scroll","top","item","props","div","overflow","New","setComments","post","reset","formData","prevComments","error","UncontrolledAlert","Form","FormGroup","Label","for","LikeButton","likes","uuid","setLikes","usernames","user","handleLike","faHeart","includes","Badge","pill","Post","useParams","setPost","getPost","poster","pathname","hub","full_path","state","Spinner","PostForm","useLocation","hubs","href","target","rel","rows","lg","xl","CardTitle","CardSubtitle","CardFooter","faArrowCircleRight","AnimatedDeck","CardDeck","PostList","posts","deckStyles","Paginate","setCurrentPage","currentPage","last","Pagination","PaginationItem","PaginationLink","previous","Set","number","active","toString","next","Radio","options","setSortBy","selected","isToggled","setIsToggled","toggleDropdown","menubg","background","y","menuAppear","gentle","button","data-testid","p","interpolate","option","setTimeout","handleSetOption","Home","setPosts","sortBy","getPosts","textAlign","results","total","description","HubList","Search","setSearch","search","paddingBottom","ToggleButton","handleTypeChange","x","molasses","friction","borderColor","span","charAt","toUpperCase","Hub","setHub","items","setItems","setType","pathlist","getHub","getItems","Jumbotron","App","setLoggedIn","getUser","path","element","Hubs","HubRoutes","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","module","exports"],"mappings":"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","file":"static/js/main.b95fcf80.chunk.js","sourcesContent":["function getCookie(name) {\r\n    if (!document.cookie) {\r\n        return null;\r\n    }\r\n    const token = document.cookie\r\n        .split(\";\")\r\n        .map(c => c.trim())\r\n        .filter(c => c.startsWith(name + \"=\"));\r\n\r\n    if (token.length === 0) {\r\n        return null;\r\n    }\r\n    return decodeURIComponent(token[0].split(\"=\")[1]);\r\n}\r\n\r\nexport async function fetchCsrf(url, body, method) {\r\n    const response = await fetch(url, {\r\n        method: method,\r\n        mode: \"same-origin\",\r\n        credentials: \"include\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            \"X-CSRFToken\": getCookie(\"csrftoken\"),\r\n        },\r\n        body: JSON.stringify(body),\r\n    });\r\n    const result = await response.json();\r\n    return result;\r\n}\r\n","import React from 'react';\r\n\r\nconst ToggleLoggedinContext = React.createContext({});\r\nexport const ToggleLoggedinProvider = ToggleLoggedinContext.Provider;\r\n\r\nexport default ToggleLoggedinContext;\r\n","import React, { useContext, useRef, useState } from 'react';\r\nimport { fetchCsrf } from './fetchCsrf';\r\nimport { useForm } from 'react-hook-form';\r\nimport ToggleLoggedinContext from './ToggleLoginContext';\r\nimport { Col, Alert, Row } from 'reactstrap';\r\n\r\nimport ShareImage from '../../images/undraw_share_online_r87b.svg';\r\nimport '../../style/auth.css';\r\n\r\nexport default function Register() {\r\n    const { handleSubmit, errors, register, watch } = useForm();\r\n    const handleLogin = useContext(ToggleLoggedinContext);\r\n    const submitButton = useRef();\r\n    const [message, setMessage] = useState({});\r\n\r\n    const toggleMessage = () => setMessage({});\r\n\r\n    const onSubmit = async data => {\r\n        submitButton.current.disabled = true;\r\n        if (\r\n            data.username.length <= 0 ||\r\n            data.password.length <= 0 ||\r\n            data.confirm.length <= 0 ||\r\n            data.email.length <= 0\r\n        ) {\r\n            submitButton.current.disabled = false;\r\n            setMessage({ type: 'danger', content: 'Fill out all fields!' });\r\n            return false;\r\n        } else if (data.password !== data.confirm) {\r\n            submitButton.current.disabled = false;\r\n            setMessage({\r\n                type: 'danger',\r\n                content: 'Password and confirm fields must match!',\r\n            });\r\n            return false;\r\n        }\r\n        const result = await fetchCsrf('/knowledge/register', data, 'POST');\r\n        if (result.errors) {\r\n            submitButton.current.disabled = false;\r\n            setMessage({\r\n                type: 'danger',\r\n                content: result.errors[Object.keys(result.errors)[0]],\r\n            });\r\n            return false;\r\n        }\r\n        submitButton.current.disabled = false;\r\n        handleLogin(result.username);\r\n    };\r\n\r\n    return (\r\n        <Row style={{ margin: '15px' }}>\r\n            <Col md=\"12\">\r\n                <h4>Welcome! Register to interact with other users.</h4>\r\n                <img\r\n                    src={ShareImage}\r\n                    alt=\"Share online\"\r\n                    style={{ width: '40vw', padding: '20px' }}\r\n                />\r\n            </Col>\r\n            <Col md=\"12\">\r\n                {message.content && (\r\n                    <Alert color={message.type} toggle={toggleMessage}>\r\n                        {message.content}\r\n                    </Alert>\r\n                )}\r\n                <form\r\n                    style={{\r\n                        padding: '10px',\r\n                        margin: 'auto',\r\n                        maxWidth: '320px',\r\n                    }}\r\n                    onSubmit={handleSubmit(onSubmit)}\r\n                >\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Username\"\r\n                        ref={register({ required: true })}\r\n                        className=\"form-control input\"\r\n                        name=\"username\"\r\n                        aria-label=\"username\"\r\n                    />\r\n                    {errors.username && (\r\n                        <p className=\"error-message\">\r\n                            Remember to fill out the username!\r\n                        </p>\r\n                    )}\r\n                    <input\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        className=\"form-control input\"\r\n                        name=\"email\"\r\n                        aria-label=\"email\"\r\n                        ref={register({ required: true })}\r\n                        style={{ marginTop: '10px', marginBottom: '10px' }}\r\n                    />\r\n                    {errors.email && (\r\n                        <p className=\"error-message\">\r\n                            Remember to fill out the email!\r\n                        </p>\r\n                    )}\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        className=\"form-control input\"\r\n                        name=\"password\"\r\n                        aria-label=\"password\"\r\n                        ref={register({\r\n                            required: true,\r\n                            validate: value => value === watch('confirm'),\r\n                        })}\r\n                        style={{ marginTop: '10px', marginBottom: '10px' }}\r\n                    />\r\n                    {errors.password && (\r\n                        <p className=\"error-message\">\r\n                            {errors.password.type === 'required'\r\n                                ? 'Remember to fill out the password!'\r\n                                : 'Password and confirm fields must match!'}\r\n                        </p>\r\n                    )}\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Confirm password\"\r\n                        className=\"form-control input\"\r\n                        name=\"confirm\"\r\n                        ref={register({ required: true })}\r\n                        aria-label=\"confirm\"\r\n                        style={{ marginTop: '10px', marginBottom: '10px' }}\r\n                    />\r\n                    {errors.confirm && (\r\n                        <p className=\"error-message\">\r\n                            Remember to fill out the confirm password!\r\n                        </p>\r\n                    )}\r\n\r\n                    <input\r\n                        type=\"submit\"\r\n                        value=\"Register\"\r\n                        aria-label=\"register\"\r\n                        ref={submitButton}\r\n                        className=\"btn btn-primary\"\r\n                    />\r\n                </form>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n","import React, { useState, useContext, useRef } from 'react';\r\nimport { fetchCsrf } from './fetchCsrf';\r\nimport { Link } from 'react-router-dom';\r\nimport { Alert, Row, Col } from 'reactstrap';\r\nimport { useForm } from 'react-hook-form';\r\nimport '../../style/auth.css';\r\nimport loginImage from '../../images/undraw_Login_re_4vu2.svg';\r\nimport ToggleLoggedinContext from './ToggleLoginContext';\r\n\r\nexport default function Login() {\r\n    const [message, setMessage] = useState({});\r\n    const submitInput = useRef();\r\n    const { register, errors, handleSubmit } = useForm();\r\n    const handleLogin = useContext(ToggleLoggedinContext);\r\n\r\n    const toggleMessage = () => setMessage({});\r\n\r\n    const onSubmit = async data => {\r\n        submitInput.current.disabled = true;\r\n        if (data.username.length <= 0 || data.password.length <= 0) {\r\n            setMessage({ type: 'danger', content: 'Fill out all fields!' });\r\n            submitInput.current.disabled = false;\r\n            return false;\r\n        }\r\n        const result = await fetchCsrf('/knowledge/login', data, 'POST');\r\n        if (result.errors) {\r\n            setMessage({\r\n                type: 'danger',\r\n                content: result.errors[Object.keys(result.errors)[0]],\r\n            });\r\n            submitInput.current.disabled = false;\r\n            return false;\r\n        }\r\n        submitInput.current.disabled = false;\r\n        handleLogin(result.username);\r\n    };\r\n\r\n    return (\r\n        <Row style={{ margin: '15px', height: '100%' }}>\r\n            <Col md=\"12\">\r\n                <h4>\r\n                    Welcome back! Login to start interacting with other users\r\n                </h4>\r\n                <img\r\n                    src={loginImage}\r\n                    alt=\"login\"\r\n                    style={{ width: '50vw', padding: '20px' }}\r\n                />\r\n            </Col>\r\n            <Col md=\"12\">\r\n                {message.content && (\r\n                    <Alert color={message.type} toggle={toggleMessage}>\r\n                        {message.content}\r\n                    </Alert>\r\n                )}\r\n                <form\r\n                    onSubmit={handleSubmit(onSubmit)}\r\n                    style={{\r\n                        margin: 'auto',\r\n                        maxWidth: '320px',\r\n                        minWidth: '0px',\r\n                    }}\r\n                >\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Username\"\r\n                        ref={register({ required: true })}\r\n                        className=\"form-control input\"\r\n                        name=\"username\"\r\n                        aria-label=\"username\"\r\n                    />\r\n                    {errors.username && (\r\n                        <p className=\"error-message\">\r\n                            Remember to fill out the username!\r\n                        </p>\r\n                    )}\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        ref={register({ required: true })}\r\n                        className=\"form-control input\"\r\n                        name=\"password\"\r\n                        aria-label=\"password\"\r\n                    />\r\n                    {errors.password && (\r\n                        <p className=\"error-message\">\r\n                            Remember to fill out the password!\r\n                        </p>\r\n                    )}\r\n                    <input\r\n                        type=\"submit\"\r\n                        value=\"Login\"\r\n                        ref={submitInput}\r\n                        aria-label=\"login\"\r\n                        className=\"btn btn-primary\"\r\n                    />\r\n                    <footer>\r\n                        <small>\r\n                            Don't have an account? Register{' '}\r\n                            <Link to=\"/register\">here</Link>\r\n                        </small>\r\n                    </footer>\r\n                </form>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nconst LoggedinContext = React.createContext({});\r\nexport const LoggedinProvider = LoggedinContext.Provider;\r\n\r\nexport default LoggedinContext;\r\n","import React, { useContext } from 'react';\r\nimport LoggedInContext from '../Auth/LoggedInContext';\r\nimport { Nav, NavItem } from 'reactstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n    faHome,\r\n    faPlus,\r\n    faSignInAlt,\r\n    faSignOutAlt,\r\n    faUser,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport ToggleLoggedinContext from '../Auth/ToggleLoginContext';\r\nimport { animated } from 'react-spring';\r\nimport '../../style/navbar.css';\r\n\r\nconst AnimatedNav = animated(Nav);\r\n\r\nexport default function SidebarContent({ toggleSidebar, style }) {\r\n    const loggedIn = useContext(LoggedInContext);\r\n    const handleLogin = useContext(ToggleLoggedinContext);\r\n    const navigate = useNavigate();\r\n\r\n    const logout = async () => {\r\n        const response = await fetch('/knowledge/logout');\r\n        const result = await response.json();\r\n        if (result.errors) {\r\n            alert('An error has occured');\r\n            return;\r\n        }\r\n        alert('Logged out successfully!');\r\n        handleLogin(null);\r\n        toggleSidebar();\r\n    };\r\n\r\n    const goToRoute = route => {\r\n        navigate(route);\r\n        toggleSidebar();\r\n    };\r\n\r\n    //Generate the routes based on whether the user is logged in or not\r\n    const routes = [\r\n        {\r\n            onClick: () => goToRoute('/'),\r\n            icon: faHome,\r\n            name: 'Home',\r\n        },\r\n    ];\r\n    loggedIn\r\n        ? routes.push(\r\n              {\r\n                  onClick: () => goToRoute('/new/post'),\r\n                  icon: faPlus,\r\n                  name: 'New post',\r\n              },\r\n              {\r\n                  onClick: logout,\r\n                  icon: faSignOutAlt,\r\n                  name: 'Logout',\r\n              }\r\n          )\r\n        : routes.push(\r\n              {\r\n                  onClick: () => goToRoute('/login'),\r\n                  icon: faSignInAlt,\r\n                  name: 'Login',\r\n              },\r\n              {\r\n                  onClick: () => goToRoute('/register'),\r\n                  icon: faUser,\r\n                  name: 'Register',\r\n              }\r\n          );\r\n\r\n    return (\r\n        <AnimatedNav vertical style={style} className=\"navnav\">\r\n            <h3>Share</h3>\r\n            <hr />\r\n            {routes.map(route => (\r\n                <NavItem key={route.name}>\r\n                    <button\r\n                        onClick={route.onClick}\r\n                        className=\"navnavbutton navnavlink\"\r\n                    >\r\n                        <FontAwesomeIcon\r\n                            icon={route.icon}\r\n                            className=\"navnavitem\"\r\n                        />\r\n                        <p className=\"navnavtext\">{route.name}</p>\r\n                    </button>\r\n                </NavItem>\r\n            ))}\r\n        </AnimatedNav>\r\n    );\r\n}\r\n","import { useState, useEffect } from 'react';\r\n\r\n//Hook used for accesibility purposes to disable animations\r\n\r\nconst getInitialState = () =>\r\n    !window.matchMedia('(prefers-reduced-motion: no-preference)').matches;\r\n\r\nexport default function usePrefersReducedMotion() {\r\n    const [prefersReducedMotion, setPrefersReducedMotion] = useState(\r\n        getInitialState\r\n    );\r\n\r\n    useEffect(() => {\r\n        const mediaQueryList = window.matchMedia(\r\n            '(prefers-reduced-motion: no-preference)'\r\n        );\r\n        mediaQueryList.addEventListener('change', event => {\r\n            setPrefersReducedMotion(!event.matches);\r\n        });\r\n\r\n        return () => {\r\n            mediaQueryList.removeEventListener('change', event => {\r\n                setPrefersReducedMotion(!event.matches);\r\n            });\r\n        };\r\n    }, []);\r\n    return prefersReducedMotion;\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport SidebarContent from './SidebarContent';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSun, faMoon, faBars } from '@fortawesome/free-solid-svg-icons';\r\nimport { useSpring } from 'react-spring';\r\nimport usePrefersReducedMotion from './usePrefersReducedMotion';\r\nimport './../../style/navbar.css';\r\n\r\nexport default function Sidebar({ children }) {\r\n    const [collapsed, setCollapsed] = useState(true);\r\n    const [theme, setTheme] = useState(localStorage.getItem('theme'));\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n\r\n    const content = useSpring({\r\n        opacity: !collapsed ? 1 : 0,\r\n        transform: !collapsed ? 'translateX(0%)' : 'translateX(-110%)',\r\n        immediate: prefersReducedMotion,\r\n    });\r\n\r\n    const toggleTheme = () => setTheme(theme === 'dark' ? 'light' : 'dark');\r\n\r\n    const toggleSidebar = () => {\r\n        setCollapsed(!collapsed);\r\n    };\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('theme', theme);\r\n        document.documentElement.setAttribute('data-theme', theme);\r\n    }, [theme]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"navnavbar\">\r\n                <button\r\n                    style={{ padding: '0px ' }}\r\n                    onClick={toggleSidebar}\r\n                    className=\"navnavicon\"\r\n                >\r\n                    <FontAwesomeIcon icon={faBars} />\r\n                    <span className=\"visually-hidden\">Toggle sidebar</span>\r\n                </button>\r\n                <button\r\n                    className=\"theme navnavicon\"\r\n                    style={{ padding: '0px ' }}\r\n                    onClick={toggleTheme}\r\n                >\r\n                    <FontAwesomeIcon\r\n                        className=\"theme\"\r\n                        icon={theme === 'dark' ? faSun : faMoon}\r\n                    />\r\n                </button>\r\n            </div>\r\n            <SidebarContent toggleSidebar={toggleSidebar} style={content} />\r\n            <div\r\n                style={{ filter: !collapsed && 'blur(5px)' }}\r\n                onClick={!collapsed ? toggleSidebar : undefined}\r\n            >\r\n                {children}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { useContext, useRef, useState } from 'react';\r\nimport { Card, CardHeader, CardText, CardBody, Button } from 'reactstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n    faEdit,\r\n    faSave,\r\n    faWindowClose,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport TextArea from 'react-autosize-textarea';\r\nimport Markdown from 'react-markdown';\r\nimport LoggedinContext from '../Auth/LoggedInContext';\r\nimport '../../style/post.css';\r\nimport { fetchCsrf } from '../Auth/fetchCsrf';\r\n\r\nexport default function Comment({ comment }) {\r\n    const loggedIn = useContext(LoggedinContext);\r\n    const editCommentContent = useRef();\r\n    const [content, setContent] = useState(comment.content);\r\n    const [editing, setEditing] = useState(false);\r\n\r\n    const toggleEditing = () => setEditing(!editing);\r\n\r\n    const editComment = async () => {\r\n        if (editCommentContent.current) {\r\n            const { value } = editCommentContent.current;\r\n            if (value.length > 256) {\r\n                alert('Comment must be less than 256 characters long');\r\n                return;\r\n            }\r\n            setContent(value);\r\n            const result = await fetchCsrf(\r\n                `/knowledge/comment/${comment.id}`,\r\n                { content: value },\r\n                'PUT'\r\n            );\r\n            if (result.errors) {\r\n                alert(result.errors[Object.keys(result.errors)[0]]);\r\n            }\r\n        }\r\n        toggleEditing();\r\n    };\r\n    return (\r\n        <Card style={{ margin: '20px' }}>\r\n            <CardHeader\r\n                style={{\r\n                    backgroundColor: 'rgb(203, 223, 230)',\r\n                    display: 'inline-flex',\r\n                    justifyContent: 'space-between',\r\n                }}\r\n            >\r\n                <div>\r\n                    <h4>@{comment.commenter.username}</h4>\r\n                    <CardText className=\"text-muted\">{comment.date}</CardText>\r\n                </div>\r\n                {comment.commenter.username === loggedIn && (\r\n                    <div>\r\n                        {editing && (\r\n                            <Button\r\n                                color=\"danger\"\r\n                                style={{ fontSize: '0.9rem' }}\r\n                                outline\r\n                                title=\"Cancel\"\r\n                                onClick={toggleEditing}\r\n                            >\r\n                                <span className=\"visually-hidden\">cancel</span>\r\n                                <FontAwesomeIcon icon={faWindowClose} />\r\n                            </Button>\r\n                        )}\r\n                        <Button\r\n                            color={editing ? 'success' : 'primary'}\r\n                            style={{ marginLeft: '10px', fontSize: '0.9rem' }}\r\n                            outline\r\n                            title={editing ? 'Save' : 'Edit'}\r\n                            disabled={\r\n                                editCommentContent.current &&\r\n                                editCommentContent.current.length < 1\r\n                            }\r\n                            onClick={editComment}\r\n                        >\r\n                            <span className=\"visually-hidden\">\r\n                                {editing ? 'save' : 'edit'}\r\n                            </span>\r\n                            <FontAwesomeIcon icon={editing ? faSave : faEdit} />\r\n                        </Button>\r\n                    </div>\r\n                )}\r\n            </CardHeader>\r\n            <CardBody style={{ backgroundColor: 'rgb(215, 245, 255)' }}>\r\n                {editing ? (\r\n                    <TextArea\r\n                        className=\"edit-comment\"\r\n                        ref={editCommentContent}\r\n                        maxLength=\"256\"\r\n                    >\r\n                        {content}\r\n                    </TextArea>\r\n                ) : (\r\n                    <Markdown\r\n                        style={{\r\n                            whiteSpcae: 'preWrap',\r\n                            marginTop: '0px',\r\n                            marginBottom: '1rem',\r\n                        }}\r\n                    >\r\n                        {content}\r\n                    </Markdown>\r\n                )}\r\n            </CardBody>\r\n        </Card>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Comment from './Comment';\r\nimport { useTransition, animated, config } from 'react-spring';\r\nimport usePrefersReducedMotion from '../General/usePrefersReducedMotion';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\n\r\nexport default function List({ comments }) {\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n    const [page, setPage] = useState(1);\r\n    const [commentList, setCommentList] = useState(comments.slice(0, 5));\r\n\r\n    const transition = useTransition(commentList, comment => comment.id, {\r\n        from: {\r\n            opacity: 0,\r\n            transform: 'translateX(-100px)',\r\n        },\r\n        enter: { opacity: 1, transform: 'translateX(0px)' },\r\n        config: config.wobbly,\r\n        immediate: prefersReducedMotion,\r\n    });\r\n\r\n    const handleLoadMore = () => {\r\n        setCommentList([\r\n            ...commentList,\r\n            ...comments.slice(page * 5, (page + 1) * 5),\r\n        ]);\r\n        setPage(page + 1);\r\n    };\r\n\r\n    let pageYOffset = window.pageYOffset;\r\n\r\n    useEffect(() => {\r\n        setCommentList(prevCommentList => [\r\n            comments[0],\r\n            ...prevCommentList.slice(1),\r\n        ]);\r\n    }, [comments]);\r\n\r\n    useEffect(() => {\r\n        window.scroll({ top: pageYOffset });\r\n    }, [commentList]);\r\n\r\n    return (\r\n        <div>\r\n            {transition.map(({ item, key, props }) => (\r\n                <animated.div\r\n                    style={{ ...props, overflow: 'hidden' }}\r\n                    key={key}\r\n                >\r\n                    <Comment comment={item} />\r\n                </animated.div>\r\n            ))}\r\n            {page * 5 <= comments.length && (\r\n                <button\r\n                    className=\"btn btn-primary center\"\r\n                    onClick={handleLoadMore}\r\n                >\r\n                    Load more\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useRef } from 'react';\r\nimport { fetchCsrf } from '../Auth/fetchCsrf';\r\nimport { Form, FormGroup, Label, UncontrolledAlert } from 'reactstrap';\r\nimport { useForm } from 'react-hook-form';\r\nimport TextArea from 'react-autosize-textarea';\r\n\r\nexport default function New({ setComments, post }) {\r\n    const { register, handleSubmit, reset, errors } = useForm();\r\n    const [message, setMessage] = useState({});\r\n    const submitButton = useRef();\r\n\r\n    const toggleMessage = () => setMessage({});\r\n\r\n    const onSubmit = async data => {\r\n        //Disable button to prevent submitting twice\r\n        submitButton.current.disabled = true;\r\n\r\n        if (data.content.length < 1) {\r\n            setMessage({\r\n                type: 'danger',\r\n                content: 'You must fill out the comment!',\r\n            });\r\n            submitButton.current.disabled = false;\r\n            return;\r\n        }\r\n        const formData = {\r\n            content: data.content,\r\n            post: post,\r\n        };\r\n        const result = await fetchCsrf('/knowledge/comment', formData, 'POST');\r\n        //Check for server errors\r\n        if (result.errors) {\r\n            setMessage({\r\n                type: 'danger',\r\n                content: result.errors[Object.keys(result.errors)[0]],\r\n            });\r\n        } else {\r\n            setMessage({\r\n                type: 'success',\r\n                content: 'Comment posted successfully.',\r\n            });\r\n            reset();\r\n        }\r\n        submitButton.current.disabled = false;\r\n        //Add comment to comment lists\r\n        try {\r\n            setComments(prevComments => [result.comment, ...prevComments]);\r\n        } catch (error) {\r\n            alert(\r\n                'Something went wrong in showing your comment. It should show when you reload though.'\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {message.content && (\r\n                <UncontrolledAlert color={message.type} toggle={toggleMessage}>\r\n                    {message.content}\r\n                </UncontrolledAlert>\r\n            )}\r\n            {errors.content && (\r\n                <UncontrolledAlert color=\"danger\">\r\n                    {errors.content.type === 'required'\r\n                        ? 'You must fill out the comment!'\r\n                        : 'Comment must be under 257 characters!'}\r\n                </UncontrolledAlert>\r\n            )}\r\n            <Form onSubmit={handleSubmit(onSubmit)}>\r\n                <FormGroup>\r\n                    <Label for=\"content\">Content</Label>\r\n                    <TextArea\r\n                        ref={register({\r\n                            required: true,\r\n                            validate: value => value.length < 257,\r\n                        })}\r\n                        placeholder=\"A valuable comment...\"\r\n                        id=\"content\"\r\n                        name=\"content\"\r\n                        aria-label=\"Comment content\"\r\n                        className=\"form-control\"\r\n                    />\r\n                </FormGroup>\r\n                <input\r\n                    type=\"submit\"\r\n                    value=\"Share your comment\"\r\n                    className=\"btn btn-primary\"\r\n                    ref={submitButton}\r\n                />\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faHeart } from '@fortawesome/free-solid-svg-icons';\r\nimport { fetchCsrf } from '../Auth/fetchCsrf';\r\nimport { Badge } from 'reactstrap';\r\nimport LoggedinContext from '../Auth/LoggedInContext';\r\nimport '../../style/post.css';\r\n\r\nexport default function LikeButton({ likes, uuid, setLikes }) {\r\n    const loggedIn = useContext(LoggedinContext);\r\n    const usernames = likes.map(user => user.username);\r\n\r\n    const handleLike = async () => {\r\n        const result = await fetchCsrf(`knowledge/post/${uuid}`, {}, 'PUT');\r\n        if (result.errors) {\r\n            alert('An error has occured. Try again later.');\r\n        } else {\r\n            setLikes(result.likes);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {loggedIn && (\r\n                <button onClick={handleLike} className=\"like-button\">\r\n                    <FontAwesomeIcon\r\n                        icon={faHeart}\r\n                        title=\"like button\"\r\n                        className={\r\n                            usernames.includes(loggedIn)\r\n                                ? 'dislike-icon'\r\n                                : 'like-icon'\r\n                        }\r\n                    />\r\n                    <span className=\"visually-hidden\">\r\n                        {usernames.includes(loggedIn) ? 'Like' : 'Dislike'}\r\n                        the post\r\n                    </span>\r\n                </button>\r\n            )}\r\n            <Badge pill color=\"info\">\r\n                {likes.length}\r\n            </Badge>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Alert, Badge, Spinner } from 'reactstrap';\r\nimport Markdown from 'react-markdown';\r\nimport CommentList from '../Comment/List';\r\nimport CommentForm from '../Comment/New';\r\nimport LoggedInContext from '../Auth/LoggedInContext';\r\nimport LikeButton from './Like';\r\n\r\nimport '../../style/post.css';\r\n\r\nexport default function Post() {\r\n    const { uuid } = useParams();\r\n    const [post, setPost] = useState({});\r\n    const [likes, setLikes] = useState();\r\n    const [comments, setComments] = useState(post.comments);\r\n    const loggedIn = useContext(LoggedInContext);\r\n\r\n    useEffect(() => {\r\n        //get the post and set the comments\r\n        const getPost = async () => {\r\n            const response = await fetch(`knowledge/post/${uuid}`);\r\n            const result = await response.json();\r\n            setPost(result);\r\n            setLikes(result.likes);\r\n            setComments(result.comments);\r\n        };\r\n        getPost();\r\n    }, [uuid]);\r\n\r\n    return !post.content ? (\r\n        !post.error ? (\r\n            <Spinner color=\"primary\" />\r\n        ) : (\r\n            <h2>This post couldn't be found</h2>\r\n        )\r\n    ) : (\r\n        <div style={{ padding: '25px' }}>\r\n            <div>\r\n                <h4>{post.poster.username}</h4>\r\n                <Link\r\n                    to={{\r\n                        pathname: `/hubs/${post.hub.full_path}`,\r\n                        state: { hub: post.hub },\r\n                    }}\r\n                >\r\n                    <Badge color=\"primary\">{post.hub.title}</Badge>\r\n                </Link>\r\n                {likes && (\r\n                    <LikeButton\r\n                        setLikes={setLikes}\r\n                        likes={likes}\r\n                        uuid={post.uuid}\r\n                    />\r\n                )}\r\n                <footer style={{ fontSize: '12px' }}>{post.date}</footer>\r\n                <h2 id=\"post-title\">{post.title}</h2>\r\n            </div>\r\n            <hr />\r\n            <div style={{ maxWidth: '1024px', margin: 'auto' }}>\r\n                <div id=\"post-div\">\r\n                    <Markdown>{post.content}</Markdown>\r\n                </div>\r\n                <hr />\r\n                {loggedIn ? (\r\n                    <CommentForm post={post.id} setComments={setComments} />\r\n                ) : (\r\n                    <Alert color=\"danger\">\r\n                        You must be logged in to comment!\r\n                    </Alert>\r\n                )}\r\n                <hr />\r\n                {comments && <CommentList comments={comments} />}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useRef, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { FormGroup, Form, Label, Alert } from 'reactstrap';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { fetchCsrf } from '../Auth/fetchCsrf';\r\nimport TextArea from 'react-autosize-textarea';\r\n\r\nexport default function PostForm() {\r\n    const submitButton = useRef();\r\n    const { register, handleSubmit, errors } = useForm();\r\n    const [message, setMessage] = useState({});\r\n    const { pathname } = useLocation();\r\n    const navigate = useNavigate();\r\n\r\n    const toggleMessage = () => setMessage({});\r\n\r\n    const onSubmit = async data => {\r\n        submitButton.current.disabled = true;\r\n        data.hubs = pathname.split('/');\r\n        const result = await fetchCsrf('/knowledge/new/post', data, 'POST');\r\n        //Check for server errors\r\n        if (result.errors) {\r\n            submitButton.current.disabled = false;\r\n            setMessage({\r\n                type: 'danger',\r\n                content: result.errors[Object.keys(result.errors)[0]],\r\n            });\r\n            return false;\r\n        }\r\n        submitButton.current.disabled = true;\r\n        navigate(-1);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {message.content && (\r\n                <Alert color={message.type} toggle={toggleMessage}>\r\n                    {message.content}\r\n                </Alert>\r\n            )}\r\n            <Form\r\n                style={{ margin: '10px' }}\r\n                method=\"POST\"\r\n                onSubmit={handleSubmit(onSubmit)}\r\n            >\r\n                <h6>\r\n                    In here you make a new post. The content will be rendered\r\n                    using markdown.{' '}\r\n                    <a\r\n                        href=\"https://www.markdowntutorial.com/\"\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                    >\r\n                        What is markdown and how to use it.\r\n                    </a>\r\n                </h6>\r\n                <FormGroup>\r\n                    <Label for=\"title\">Title: </Label>\r\n                    <input\r\n                        type=\"text\"\r\n                        aria-label=\"title\"\r\n                        name=\"title\"\r\n                        id=\"title\"\r\n                        placeholder=\"Title...\"\r\n                        className=\"form-control\"\r\n                        ref={register({\r\n                            required: true,\r\n                            validate: value => value.length < 65,\r\n                        })}\r\n                    />\r\n                    {errors.title && (\r\n                        <p className=\"error-message\">\r\n                            {errors.title.type === 'required'\r\n                                ? 'You must provide a title!'\r\n                                : 'Title must be 64 characters at most!'}\r\n                        </p>\r\n                    )}\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    <Label for=\"content\">Content: </Label>\r\n                    <TextArea\r\n                        type=\"text\"\r\n                        aria-label=\"content\"\r\n                        name=\"content\"\r\n                        id=\"content\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Some good content...\"\r\n                        ref={register({ required: true })}\r\n                        rows={20}\r\n                        maxLength=\"2050\"\r\n                    />\r\n                    {errors.content && (\r\n                        <p className=\"error-message\">\r\n                            You must provide some content!\r\n                        </p>\r\n                    )}\r\n                </FormGroup>\r\n                <input\r\n                    type=\"submit\"\r\n                    value=\"Create post\"\r\n                    className=\"btn btn-primary\"\r\n                    ref={submitButton}\r\n                />\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport {\r\n    Card,\r\n    CardText,\r\n    CardBody,\r\n    CardTitle,\r\n    CardSubtitle,\r\n    Col,\r\n    CardHeader,\r\n    CardFooter,\r\n    Spinner,\r\n} from 'reactstrap';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowCircleRight } from '@fortawesome/free-solid-svg-icons';\r\nimport '../../style/post.css';\r\n\r\nexport default function Row({ post }) {\r\n    const navigate = useNavigate();\r\n    const goToPost = () => navigate(`posts/${post.uuid}`);\r\n\r\n    return !post ? (\r\n        <Spinner color=\"primary\" />\r\n    ) : (\r\n        <Col lg=\"6\" xl=\"4\" style={{ marginBottom: '30px' }}>\r\n            <Card className=\"hover-card\" onClick={goToPost} title=\"See more\">\r\n                <CardHeader style={{ backgroundColor: '#68d8ee' }}>\r\n                    <CardTitle>\r\n                        <h5>{post.title}</h5>\r\n                    </CardTitle>\r\n                    <CardSubtitle>By: {post.poster.username}</CardSubtitle>\r\n                </CardHeader>\r\n                <CardBody className=\"back-blue\">\r\n                    <CardText className=\"post-content\">{post.content}</CardText>\r\n                </CardBody>\r\n                <CardFooter className=\"footer back-blue\">\r\n                    <p className=\"card-link\">\r\n                        <Link to={`/posts/${post.uuid}`} aria-label=\"see more\">\r\n                            <FontAwesomeIcon icon={faArrowCircleRight} />\r\n                            <span className=\"visually-hidden\">See more</span>\r\n                        </Link>\r\n                    </p>\r\n                    <CardText className=\"text-muted\">{post.date}</CardText>\r\n                </CardFooter>\r\n            </Card>\r\n        </Col>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Row from './Row';\r\nimport { CardDeck } from 'reactstrap';\r\nimport { animated, useSpring } from 'react-spring';\r\nimport usePrefersReducedMotion from '../General/usePrefersReducedMotion';\r\n\r\nconst AnimatedDeck = animated(CardDeck);\r\n\r\nexport default function PostList({ posts }) {\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n\r\n    const deckStyles = useSpring({\r\n        from: {\r\n            opacity: 0,\r\n            transform: 'translateX(100px)',\r\n        },\r\n        to: {\r\n            opacity: 1,\r\n            transform: 'translateX(0px)',\r\n        },\r\n        immediate: prefersReducedMotion,\r\n    });\r\n    //Handle no posts, temporal fix as for the poster, handle the type rerender before the items update\r\n    return posts[0].poster ? (\r\n        <AnimatedDeck style={deckStyles} className=\"deck\">\r\n            {posts.map(post => (\r\n                <Row post={post} key={post.id} />\r\n            ))}\r\n        </AnimatedDeck>\r\n    ) : null;\r\n}\r\n","import React from 'react';\r\nimport { PaginationItem, PaginationLink, Pagination } from 'reactstrap';\r\n\r\nexport default function Paginate({ setCurrentPage, currentPage, last }) {\r\n    return (\r\n        <Pagination style={{ justifyContent: 'center' }}>\r\n            {/* Make sure current page isn't the first to disable it */}\r\n            <PaginationItem disabled={currentPage === 1} key=\"prev\">\r\n                <PaginationLink\r\n                    previous\r\n                    onClick={() => setCurrentPage(currentPage - 1)}\r\n                />\r\n            </PaginationItem>\r\n            {/*Make the list of pages uniqui in case the active one is first or last by making the list a set and then a list again*/}\r\n            {[...new Set([1, currentPage, last])].map(number => {\r\n                return (\r\n                    <PaginationItem\r\n                        active={number === currentPage}\r\n                        key={number.toString()}\r\n                    >\r\n                        <PaginationLink onClick={() => setCurrentPage(number)}>\r\n                            {number}\r\n                        </PaginationLink>\r\n                    </PaginationItem>\r\n                );\r\n            })}\r\n            {/* Make sure current page isn't the last to disable it */}\r\n            <PaginationItem disabled={currentPage === last} key=\"next\">\r\n                <PaginationLink\r\n                    next\r\n                    onClick={() => setCurrentPage(currentPage + 1)}\r\n                />\r\n            </PaginationItem>\r\n        </Pagination>\r\n    );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useSpring, animated, config } from 'react-spring';\r\n\r\nimport '../../style/dropdown.css';\r\nimport usePrefersReducedMotion from './usePrefersReducedMotion';\r\n\r\nexport default function Radio({ options, setSortBy, selected }) {\r\n    const [isToggled, setIsToggled] = useState(false);\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n    const toggleDropdown = () => setIsToggled(!isToggled);\r\n\r\n    const menubg = useSpring({ background: isToggled ? '#68d8ee' : '#8ee4f5' });\r\n    const { y } = useSpring({\r\n        y: isToggled ? 180 : 0,\r\n        immediate: prefersReducedMotion,\r\n    });\r\n    const menuAppear = useSpring({\r\n        transform: isToggled ? 'translateY(0)' : 'translateY(-40px)',\r\n        opacity: isToggled ? 1 : 0,\r\n        config: config.gentle,\r\n        immediate: prefersReducedMotion,\r\n    });\r\n\r\n    const handleSetOption = option => {\r\n        //Wait for items to disappear before toggle\r\n        setTimeout(toggleDropdown, 0.01);\r\n        setSortBy(option);\r\n    };\r\n\r\n    return (\r\n        <div className=\"radio-container\">\r\n            <animated.button\r\n                style={menubg}\r\n                data-testid=\"toggle\"\r\n                className=\"radio-wrapper\"\r\n                onClick={toggleDropdown}\r\n            >\r\n                <div className=\"radio\">\r\n                    <p className=\"visually-hidden\">Change sort options</p>\r\n                    <p>{selected}</p>\r\n                    <animated.p\r\n                        style={{\r\n                            transform: y.interpolate(y => `rotateX(${y}deg)`),\r\n                        }}\r\n                    >\r\n                        {isToggled ? 'X' : ''}\r\n                    </animated.p>\r\n                </div>\r\n            </animated.button>\r\n            <animated.div style={menuAppear} config={config.wobbly}>\r\n                {isToggled && (\r\n                    <div className=\"radio-content\">\r\n                        {options.map(option => (\r\n                            <div\r\n                                onClick={() => handleSetOption(option)}\r\n                                key={option[0]}\r\n                            >\r\n                                <button>{option[1]}</button>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </animated.div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport PostList from './Post/List';\r\nimport { Spinner } from 'reactstrap';\r\nimport Paginate from './Pagination';\r\nimport Dropdown from './General/Dropdown';\r\n\r\nexport default function Home() {\r\n    const [posts, setPosts] = useState(null);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [sortBy, setSortBy] = useState(['-date', 'Newest']);\r\n\r\n    //get the posts for a page\r\n\r\n    useEffect(() => {\r\n        setPosts({});\r\n        const getPosts = async () => {\r\n            const response = await fetch(\r\n                `knowledge/hub/items/1?page=${currentPage}&sort=${sortBy[0]}&type=posts&search=`\r\n            );\r\n            const result = await response.json();\r\n            setPosts(result);\r\n        };\r\n        getPosts();\r\n    }, [currentPage, sortBy]);\r\n\r\n    const options = [\r\n        ['-date', 'Newest'],\r\n        ['date', 'Oldest'],\r\n        ['-likes', 'Most Liked'],\r\n        ['likes', 'Least liked'],\r\n    ];\r\n\r\n    return posts === null ? (\r\n        <Spinner color=\"primary\" />\r\n    ) : (\r\n        <div style={{ overflow: 'hidden' }}>\r\n            <h3 style={{ textAlign: 'center' }}>Home</h3>\r\n            <Dropdown\r\n                options={options}\r\n                setSortBy={setSortBy}\r\n                selected={sortBy[1]}\r\n            />\r\n            {posts.results ? (\r\n                <>\r\n                    <PostList posts={posts.results} />\r\n                    <Paginate\r\n                        currentPage={currentPage}\r\n                        last={posts.total}\r\n                        setCurrentPage={setCurrentPage}\r\n                    />\r\n                </>\r\n            ) : (\r\n                <Spinner color=\"primary\" />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport {\r\n    Card,\r\n    CardTitle,\r\n    CardText,\r\n    CardHeader,\r\n    CardBody,\r\n    CardFooter,\r\n    Col,\r\n    CardSubtitle,\r\n} from 'reactstrap';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowCircleRight } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport default function Row({ hub }) {\r\n    const navigate = useNavigate();\r\n    const goToHub = () => navigate(hub.title);\r\n\r\n    return (\r\n        <Col md=\"6\" style={{ marginBottom: '30px' }}>\r\n            <Card onClick={goToHub} title=\"Go to hub\" className=\"hover-card\">\r\n                <CardHeader className=\"back-green\">\r\n                    <CardTitle>\r\n                        <h5>{hub.title}</h5>\r\n                    </CardTitle>\r\n                    <CardSubtitle>\r\n                        <p style={{ fontSize: '0.85em' }}>Made {hub.date}</p>\r\n                    </CardSubtitle>\r\n                </CardHeader>\r\n                <CardBody style={{ backgroundColor: '#a2ffaf' }}>\r\n                    <CardText>{hub.description}</CardText>\r\n                </CardBody>\r\n                <CardFooter className=\"footer back-green\">\r\n                    <p className=\"card-link\">\r\n                        <Link to={`${hub.title}`} aria-label=\"see more\">\r\n                            <FontAwesomeIcon icon={faArrowCircleRight} />\r\n                            <span className=\"visually-hidden\">See more</span>\r\n                        </Link>\r\n                    </p>\r\n                </CardFooter>\r\n            </Card>\r\n        </Col>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { animated, useSpring } from 'react-spring';\r\nimport { CardDeck } from 'reactstrap';\r\nimport usePrefersReducedMotion from '../General/usePrefersReducedMotion';\r\nimport Row from './Row';\r\n\r\nconst AnimatedDeck = animated(CardDeck);\r\n\r\nexport default function HubList({ hubs }) {\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n    const deckStyles = useSpring({\r\n        from: {\r\n            transform: 'translateY(100px)',\r\n        },\r\n        to: {\r\n            transform: 'translateY(0px)',\r\n        },\r\n        immediate: prefersReducedMotion,\r\n    });\r\n\r\n    return (\r\n        <AnimatedDeck style={deckStyles} className=\"deck\">\r\n            {hubs.map(hub => (\r\n                <Row hub={hub} />\r\n            ))}\r\n        </AnimatedDeck>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport '../../style/auth.css';\r\nimport { Form, Label } from 'reactstrap';\r\n\r\nexport default function Search({ setSearch, type, setCurrentPage }) {\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    const onSubmit = data => {\r\n        setSearch(data.search);\r\n        //Set the current page to avoid errors if the pages count is less than the current page\r\n        setCurrentPage(1);\r\n    };\r\n\r\n    return (\r\n        <Form\r\n            onSubmit={handleSubmit(onSubmit)}\r\n            style={{ padding: '20px 2rem', paddingBottom: '0px' }}\r\n        >\r\n            <Label for=\"search\">Find specific {type}</Label>\r\n            <input\r\n                className=\"form-control\"\r\n                placeholder=\"What do you want to search for?\"\r\n                type=\"text\"\r\n                name=\"search\"\r\n                id=\"search\"\r\n                ref={register}\r\n                style={{ marginBottom: '15px' }}\r\n            />\r\n            <input className=\"btn btn-primary\" value=\"Search\" type=\"submit\" />\r\n        </Form>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { animated, useSpring, config } from 'react-spring';\r\nimport '../../style/hub.css';\r\nimport usePrefersReducedMotion from '../General/usePrefersReducedMotion';\r\n\r\nexport default function ToggleButton({ type, handleTypeChange }) {\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n    const { x, color } = useSpring({\r\n        x: type !== 'hubs' ? 100 : 0,\r\n        color: type !== 'hubs' ? 'white' : 'black',\r\n        config: { ...config.molasses, friction: 60 },\r\n        immediate: prefersReducedMotion,\r\n    });\r\n\r\n    return (\r\n        <Button\r\n            color=\"primary\"\r\n            className=\"lead type-toggle-button\"\r\n            onClick={handleTypeChange}\r\n            style={{\r\n                borderColor: type === 'hubs' && '#86eb93',\r\n            }}\r\n        >\r\n            <animated.span style={{ color }} className=\"type-toggle-span\">\r\n                {type.charAt(0).toUpperCase() + type.slice(1)}\r\n            </animated.span>\r\n            <animated.div\r\n                className=\"type-toggle-div\"\r\n                style={{\r\n                    transform: x.interpolate(x => `translateX(-${x}%)`),\r\n                }}\r\n            />\r\n        </Button>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams, useLocation, Link } from 'react-router-dom';\r\nimport { Jumbotron, Spinner } from 'reactstrap';\r\nimport PostList from '../Post/List';\r\nimport HubList from './HubList';\r\nimport Paginate from '../Pagination';\r\nimport Search from '../General/Search';\r\nimport Dropdown from '../General/Dropdown';\r\nimport ToggleButton from './ToggleButton';\r\nimport '../../style/hub.css';\r\n\r\nexport default function Hub() {\r\n    const [hub, setHub] = useState(useLocation().state?.hub);\r\n    const [sortBy, setSortBy] = useState(['-date', 'Newest']);\r\n    const [items, setItems] = useState(undefined);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [type, setType] = useState('posts');\r\n    const [search, setSearch] = useState('');\r\n    const { title } = useParams();\r\n    const pathlist = useLocation().pathname.split('/');\r\n\r\n    useEffect(() => {\r\n        if (!hub) {\r\n            const getHub = async () => {\r\n                const response = await fetch(\r\n                    `knowledge/hub/details/${title}?list=${pathlist}`\r\n                );\r\n                const result = await response.json();\r\n                setHub(result);\r\n            };\r\n            getHub();\r\n        }\r\n    }, [title, hub, pathlist]);\r\n\r\n    //Get items for given category and skip if category isn't ready\r\n    useEffect(() => {\r\n        //Reset the items to make the loading effect\r\n        setItems(undefined);\r\n        //Only fetch if items aren't set and the hub isn't undefined\r\n        if (hub !== undefined) {\r\n            const getItems = async () => {\r\n                const response = await fetch(\r\n                    `knowledge/hub/items/${hub.id}?sort=${sortBy[0]}&page=${currentPage}&type=${type}&search=${search}`\r\n                );\r\n                const result = await response.json();\r\n                setItems(result);\r\n            };\r\n            getItems();\r\n        }\r\n    }, [hub, currentPage, type, search, sortBy]);\r\n\r\n    const handleTypeChange = () => {\r\n        setType(type === 'posts' ? 'hubs' : 'posts');\r\n        //Set the sort by to newest to avoid invalid sort by in the hubs\r\n        setSortBy(['-date', 'Newest']);\r\n        //Set the current page to avoid errors if the pages count is less than the current page\r\n        setCurrentPage(1);\r\n    };\r\n\r\n    const options = [\r\n        ['-date', 'Newest'],\r\n        ['date', 'Oldest'],\r\n    ];\r\n    //Posts only sort by options\r\n    if (type === 'posts')\r\n        options.push(['-likes', 'Most Liked'], ['likes', 'Least liked']);\r\n\r\n    return !hub ? (\r\n        <Spinner color=\"primary\" />\r\n    ) : (\r\n        <div style={{ overflow: 'hidden' }}>\r\n            <Jumbotron>\r\n                <h2 className=\"display-3 hub-name\">{title}</h2>\r\n                <p className=\"lead text-md-left\">{hub.description}</p>\r\n                <hr className=\"my-2\" />\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <ToggleButton\r\n                        type={type}\r\n                        handleTypeChange={handleTypeChange}\r\n                    />\r\n                    {/*Ensure this isn't a source hub */}\r\n                    {hub.full_path.includes('/') && (\r\n                        <Link to=\"posts/new\">+ New post</Link>\r\n                    )}\r\n                </div>\r\n            </Jumbotron>\r\n            <Search\r\n                setSearch={setSearch}\r\n                type={type}\r\n                setCurrentPage={setCurrentPage}\r\n            />\r\n            <Dropdown\r\n                options={options}\r\n                setSortBy={setSortBy}\r\n                selected={sortBy[1]}\r\n            />\r\n            {items ? (\r\n                type === 'posts' ? (\r\n                    <>\r\n                        <PostList posts={items.results} />\r\n                        <Paginate\r\n                            currentPage={currentPage}\r\n                            last={items.total}\r\n                            setCurrentPage={setCurrentPage}\r\n                        />\r\n                    </>\r\n                ) : (\r\n                    <HubList hubs={items.results} />\r\n                )\r\n            ) : (\r\n                <Spinner color=\"primary\" />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\nimport {\n    HashRouter as Router,\n    Route,\n    Routes,\n    Outlet,\n    Navigate,\n} from 'react-router-dom';\nimport Register from './components/Auth/Register';\nimport Login from './components/Auth/Login';\nimport Sidebar from './components/General/Sidebar';\nimport Post from './components/Post/Post';\nimport PostForm from './components/Post/New';\nimport Home from './components/Home';\nimport Hub from './components/Hub/Hub';\nimport { LoggedinProvider } from './components/Auth/LoggedInContext';\nimport { ToggleLoggedinProvider } from './components/Auth/ToggleLoginContext';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css';\n\nexport default function App() {\n    const [loggedIn, setLoggedIn] = useState(undefined);\n\n    useEffect(() => {\n        if (loggedIn !== undefined) return () => {};\n        const getUser = async () => {\n            const response = await fetch('/knowledge/login');\n            const { user } = await response.json();\n            setLoggedIn(user);\n        };\n        getUser();\n    }, [loggedIn]);\n\n    return (\n        <Router>\n            <LoggedinProvider value={loggedIn}>\n                <ToggleLoggedinProvider value={setLoggedIn}>\n                    <Sidebar>\n                        <div className=\"App\" style={{ marginTop: '65px' }}>\n                            <Routes>\n                                <Route path=\"/\" element={<Home />} />\n                                <Route\n                                    path=\"/register\"\n                                    element={loggedIn ? <Home /> : <Register />}\n                                />\n                                <Route\n                                    path=\"/login\"\n                                    element={loggedIn ? <Home /> : <Login />}\n                                />\n                                <Route path=\"posts/:uuid\" element={<Post />} />\n                                <Route path=\"/hubs/:title*\" element={<Hubs />}>\n                                    <Route path=\"/\" element={<Hub />} />\n                                    <Route\n                                        path=\"posts/:uuid\"\n                                        element={<Post />}\n                                    />\n                                    <Route\n                                        path=\":title*\"\n                                        element={\n                                            <HubRoutes loggedIn={loggedIn} />\n                                        }\n                                    />\n                                </Route>\n                            </Routes>\n                        </div>\n                    </Sidebar>\n                </ToggleLoggedinProvider>\n            </LoggedinProvider>\n        </Router>\n    );\n}\n\nfunction Hubs() {\n    return <Outlet />;\n}\n\n/*\nOkay so you may be looking at this and wonder what the heck is he doing here, and \nsince it's a bit complex I'll explain. What we do here is that we first render\nthe Hub Routes above. The HubRoutes include a Routes component and the specific \nroutes we want. Now, this is made of the index, new post, specific post, and a sub route. \nWhen the path becomes from something like /hub/TITLE to /hub/TITLE/TITLE2,\nOur HubRoutes render itself again with the new TITLE2 route as the main one. This is \nbecause of the :title* path we have. So this allows us to recursively nest hubs. But why \ndoes it work? In the v6 of react router, you only want an Outlet to render the chosen path.\nSo just exposing the new nested routes still works because the Outlet takes their place.\n*/\nfunction HubRoutes({ loggedIn }) {\n    return (\n        <>\n            <Routes>\n                <Route path=\"/\" element={<Hub />} />\n                <Route\n                    path=\"posts/new\"\n                    element={loggedIn ? <PostForm /> : <Navigate to=\"/login\" />}\n                />\n                <Route path=\"posts/:uuid\" element={<Post />} />\n                <Route\n                    path=\":title*\"\n                    element={<HubRoutes loggedIn={loggedIn} />}\n                />\n            </Routes>\n        </>\n    );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/undraw_share_online_r87b.fbd5ff07.svg\";","module.exports = __webpack_public_path__ + \"static/media/undraw_Login_re_4vu2.303e4a67.svg\";"],"sourceRoot":""}