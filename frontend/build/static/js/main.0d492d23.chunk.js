(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{171:function(e,t,a){},173:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(39),l=a.n(c),o=(a(54),a(4)),s=a.n(o),i=a(9),u=a(7),m=a(16),p=a(8);function d(e){if(!document.cookie)return null;var t=document.cookie.split(";").map((function(e){return e.trim()})).filter((function(t){return t.startsWith(e+"=")}));return 0===t.length?null:decodeURIComponent(t[0].split("=")[1])}function f(e,t,a){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(s.a.mark((function e(t,a,n){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:n,mode:"same-origin",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":d("csrftoken")},body:JSON.stringify(a)});case 2:return r=e.sent,e.next=5,r.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=a(20),h=r.a.createContext({}),g=h.Provider,v=h,y=a(174),j=a(175),O=a(76),w=a(74),k=a.n(w);a(43);function x(){var e=Object(E.a)(),t=e.handleSubmit,a=e.errors,c=e.register,l=e.watch,o=Object(n.useContext)(v),m=Object(n.useRef)(),p=Object(n.useState)({}),d=Object(u.a)(p,2),b=d[0],h=d[1],g=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.current.disabled=!0,!(t.username.length<=0||t.password.length<=0||t.confirm.length<=0||t.email.length<=0)){e.next=7;break}return m.current.disabled=!1,h({type:"danger",content:"Fill out all fields!"}),e.abrupt("return",!1);case 7:if(t.password===t.confirm){e.next=11;break}return m.current.disabled=!1,h({type:"danger",content:"Password and confirm fields must match!"}),e.abrupt("return",!1);case 11:return e.next=13,f("/knowledge/register",t,"POST");case 13:if(!(a=e.sent).errors){e.next=18;break}return m.current.disabled=!1,h({type:"danger",content:a.errors[Object.keys(a.errors)[0]]}),e.abrupt("return",!1);case 18:m.current.disabled=!1,o(a.username);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(y.a,{style:{margin:"15px"}},r.a.createElement(j.a,{md:"12"},r.a.createElement("h4",null,"Welcome! Register to interact with other users."),r.a.createElement("img",{src:k.a,alt:"Share online",style:{width:"40vw",padding:"20px"}})),r.a.createElement(j.a,{md:"12"},b.content&&r.a.createElement(O.a,{color:b.type,toggle:function(){return h({})}},b.content),r.a.createElement("form",{style:{padding:"10px",margin:"auto",maxWidth:"320px"},onSubmit:t(g)},r.a.createElement("input",{type:"text",placeholder:"Username",ref:c({required:!0}),className:"form-control input",name:"username","aria-label":"username"}),a.username&&r.a.createElement("p",{className:"error-message"},"Remember to fill out the username!"),r.a.createElement("input",{type:"email",placeholder:"Email",className:"form-control input",name:"email","aria-label":"email",ref:c({required:!0}),style:{marginTop:"10px",marginBottom:"10px"}}),a.email&&r.a.createElement("p",{className:"error-message"},"Remember to fill out the email!"),r.a.createElement("input",{type:"password",placeholder:"Password",className:"form-control input",name:"password","aria-label":"password",ref:c({required:!0,validate:function(e){return e===l("confirm")}}),style:{marginTop:"10px",marginBottom:"10px"}}),a.password&&r.a.createElement("p",{className:"error-message"},"required"===a.password.type?"Remember to fill out the password!":"Password and confirm fields must match!"),r.a.createElement("input",{type:"password",placeholder:"Confirm password",className:"form-control input",name:"confirm",ref:c({required:!0}),"aria-label":"confirm",style:{marginTop:"10px",marginBottom:"10px"}}),a.confirm&&r.a.createElement("p",{className:"error-message"},"Remember to fill out the confirm password!"),r.a.createElement("input",{type:"submit",value:"Register","aria-label":"register",ref:m,className:"btn btn-primary"}))))}var N=a(75),S=a.n(N);function C(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useRef)(),o=Object(E.a)(),p=o.register,d=o.errors,b=o.handleSubmit,h=Object(n.useContext)(v),g=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.current.disabled=!0,!(t.username.length<=0||t.password.length<=0)){e.next=5;break}return c({type:"danger",content:"Fill out all fields!"}),l.current.disabled=!1,e.abrupt("return",!1);case 5:return e.next=7,f("/knowledge/login",t,"POST");case 7:if(!(a=e.sent).errors){e.next=12;break}return c({type:"danger",content:a.errors[Object.keys(a.errors)[0]]}),l.current.disabled=!1,e.abrupt("return",!1);case 12:l.current.disabled=!1,h(a.username);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(y.a,{style:{margin:"15px",height:"100%"}},r.a.createElement(j.a,{md:"12"},r.a.createElement("h4",null,"Welcome back! Login to start interacting with other users"),r.a.createElement("img",{src:S.a,alt:"login",style:{width:"50vw",padding:"20px"}})),r.a.createElement(j.a,{md:"12"},a.content&&r.a.createElement(O.a,{color:a.type,toggle:function(){return c({})}},a.content),r.a.createElement("form",{onSubmit:b(g),style:{margin:"auto",maxWidth:"320px",minWidth:"0px"}},r.a.createElement("input",{type:"text",placeholder:"Username",ref:p({required:!0}),className:"form-control input",name:"username","aria-label":"username"}),d.username&&r.a.createElement("p",{className:"error-message"},"Remember to fill out the username!"),r.a.createElement("input",{type:"password",placeholder:"Password",ref:p({required:!0}),className:"form-control input",name:"password","aria-label":"password"}),d.password&&r.a.createElement("p",{className:"error-message"},"Remember to fill out the password!"),r.a.createElement("input",{type:"submit",value:"Login",ref:l,"aria-label":"login",className:"btn btn-primary"}),r.a.createElement("footer",null,r.a.createElement("small",null,"Don't have an account? Register"," ",r.a.createElement(m.b,{to:"/register"},"here"))))))}var T=r.a.createContext({}),P=T.Provider,L=T,R=a(176),B=a(177),q=a(18),W=a(13),Y=a(11),I=(a(59),Object(Y.a)(R.a));function _(e){var t=e.toggleSidebar,a=e.style,c=Object(n.useContext)(L),l=Object(n.useContext)(v),o=Object(p.i)(),u=function(){var e=Object(i.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/knowledge/logout");case 2:return a=e.sent,e.next=5,a.json();case 5:if(!e.sent.errors){e.next=9;break}return alert("An error has occured"),e.abrupt("return");case 9:alert("Logged out successfully!"),l(null),t();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e){o(e),t()},d=[{onClick:function(){return m("/")},icon:W.e,name:"Home"}];return c?d.push({onClick:function(){return m("/new/post")},icon:W.g,name:"New post"},{onClick:u,icon:W.j,name:"Logout"}):d.push({onClick:function(){return m("/login")},icon:W.i,name:"Login"},{onClick:function(){return m("/register")},icon:W.l,name:"Register"}),r.a.createElement(I,{vertical:!0,style:a,className:"navnav"},r.a.createElement("h3",null,"Share"),r.a.createElement("hr",null),d.map((function(e){return r.a.createElement(B.a,{key:e.name},r.a.createElement("button",{onClick:e.onClick,className:"navnavbutton navnavlink"},r.a.createElement(q.a,{icon:e.icon,className:"navnavitem"}),r.a.createElement("p",{className:"navnavtext"},e.name)))})))}var A=function(){return!window.matchMedia("(prefers-reduced-motion: no-preference)").matches};function F(){var e=Object(n.useState)(A),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=window.matchMedia("(prefers-reduced-motion: no-preference)");return e.addEventListener("change",(function(e){r(!e.matches)})),function(){e.removeEventListener("change",(function(e){r(!e.matches)}))}}),[]),a}function X(e){var t=e.children,a=Object(n.useState)(!0),c=Object(u.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(localStorage.getItem("theme")),i=Object(u.a)(s,2),m=i[0],p=i[1],d=F(),f=Object(Y.c)({opacity:l?0:1,transform:l?"translate3D(-100%, 0, 0)":"translate3D(0%, 0, 0)",immediate:d}),b=function(){o(!l)};return Object(n.useEffect)((function(){localStorage.setItem("theme",m),document.documentElement.setAttribute("data-theme",m)}),[m]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navnavbar"},r.a.createElement("button",{style:{padding:"0px "},onClick:b,className:"navnavicon"},r.a.createElement(q.a,{icon:W.b}),r.a.createElement("span",{className:"visually-hidden"},"Toggle sidebar")),r.a.createElement("button",{className:"theme navnavicon",style:{padding:"0px "},onClick:function(){return p("dark"===m?"light":"dark")}},r.a.createElement(q.a,{className:"theme",icon:"dark"===m?W.k:W.f}))),r.a.createElement(_,{toggleSidebar:b,style:f}),r.a.createElement("div",{style:{filter:!l&&"blur(5px)"},onClick:l?void 0:b},t))}var M=a(188),U=a(187),z=a(40),D=a.n(z),J=a(41),H=a(10),G=a(178),$=a(179),K=a(180),Q=a(181),V=a(182),Z=a(29),ee=a.n(Z);a(38);function te(e){var t=e.comment,a=Object(n.useContext)(L),c=Object(n.useRef)(),l=Object(n.useState)(t.content),o=Object(u.a)(l,2),m=o[0],p=o[1],d=Object(n.useState)(!1),b=Object(u.a)(d,2),E=b[0],h=b[1],g=function(){return h(!E)},v=function(){var e=Object(i.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.current){e.next=10;break}if(!((a=c.current.value).length>256)){e.next=5;break}return alert("Comment must be less than 256 characters long"),e.abrupt("return");case 5:return p(a),e.next=8,f("/knowledge/comment/".concat(t.id),{content:a},"PUT");case 8:(n=e.sent).errors&&alert(n.errors[Object.keys(n.errors)[0]]);case 10:g();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(G.a,{style:{margin:"20px"}},r.a.createElement($.a,{style:{backgroundColor:"rgb(203, 223, 230)",display:"inline-flex",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement("h4",null,"@",t.commenter.username),r.a.createElement(K.a,{className:"text-muted"},t.date)),t.commenter.username===a&&r.a.createElement("div",null,E&&r.a.createElement(Q.a,{color:"danger",style:{fontSize:"0.9rem"},outline:!0,title:"Cancel",onClick:g},r.a.createElement("span",{className:"visually-hidden"},"cancel"),r.a.createElement(q.a,{icon:W.m})),r.a.createElement(Q.a,{color:E?"success":"primary",style:{marginLeft:"10px",fontSize:"0.9rem"},outline:!0,title:E?"Save":"Edit",disabled:c.current&&c.current.length<1,onClick:v},r.a.createElement("span",{className:"visually-hidden"},E?"save":"edit"),r.a.createElement(q.a,{icon:E?W.h:W.c})))),r.a.createElement(V.a,{style:{backgroundColor:"rgb(215, 245, 255)"}},E?r.a.createElement(ee.a,{className:"edit-comment",ref:c,maxLength:"256"},m):r.a.createElement(D.a,{style:{whiteSpcae:"preWrap",marginTop:"0px",marginBottom:"1rem"}},m)))}function ae(e){var t=e.comments,a=F(),c=Object(n.useState)(1),l=Object(u.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(t.slice(0,5)),m=Object(u.a)(i,2),p=m[0],d=m[1],f=Object(Y.d)(p,(function(e){return e.id}),{from:{opacity:0,transform:"translateX(-100px)"},enter:{opacity:1,transform:"translateX(0px)"},config:Y.b.wobbly,immediate:a}),b=window.pageYOffset;return Object(n.useEffect)((function(){void 0!==t[0]&&d((function(e){return[t[0]].concat(Object(H.a)(e.slice(1)))}))}),[t]),Object(n.useEffect)((function(){window.scroll({top:b})}),[p,b]),r.a.createElement("div",null,f.map((function(e){var t=e.item,a=e.key,n=e.props;return r.a.createElement(Y.a.div,{style:Object(J.a)({},n,{overflow:"hidden"}),key:a},r.a.createElement(te,{comment:t}))})),5*o<=t.length&&r.a.createElement("button",{className:"btn btn-primary center",onClick:function(){d([].concat(Object(H.a)(p),Object(H.a)(t.slice(5*o,5*(o+1))))),s(o+1)}},"Load more"))}var ne=a(183),re=a(184),ce=a(185),le=a(186);function oe(e){var t=e.setComments,a=e.post,c=Object(E.a)(),l=c.register,o=c.handleSubmit,m=c.reset,p=c.errors,d=Object(n.useState)({}),b=Object(u.a)(d,2),h=b[0],g=b[1],v=Object(n.useRef)(),y=function(){var e=Object(i.a)(s.a.mark((function e(n){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.current.disabled=!0,!(n.content.length<1)){e.next=5;break}return g({type:"danger",content:"You must fill out the comment!"}),v.current.disabled=!1,e.abrupt("return");case 5:return r={content:n.content,post:a},e.next=8,f("/knowledge/comment",r,"POST");case 8:(c=e.sent).errors?g({type:"danger",content:c.errors[Object.keys(c.errors)[0]]}):(g({type:"success",content:"Comment posted successfully."}),m()),v.current.disabled=!1;try{t((function(e){return[c.comment].concat(Object(H.a)(e))}))}catch(l){alert("Something went wrong in showing your comment. It should show when you reload though.")}case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,h.content&&r.a.createElement(ne.a,{color:h.type,toggle:function(){return g({})}},h.content),p.content&&r.a.createElement(ne.a,{color:"danger"},"required"===p.content.type?"You must fill out the comment!":"Comment must be under 257 characters!"),r.a.createElement(re.a,{onSubmit:o(y)},r.a.createElement(ce.a,null,r.a.createElement(le.a,{for:"content"},"Content"),r.a.createElement(ee.a,{ref:l({required:!0,validate:function(e){return e.length<257}}),placeholder:"A valuable comment...",id:"content",name:"content","aria-label":"Comment content",className:"form-control"})),r.a.createElement("input",{type:"submit",value:"Share your comment",className:"btn btn-primary",ref:v})))}function se(e){var t=e.likes,a=e.uuid,c=e.setLikes,l=Object(n.useContext)(L),o=t.map((function(e){return e.username})),u=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("knowledge/post/".concat(a),{},"PUT");case 2:(t=e.sent).errors?alert("An error has occured. Try again later."):c(t.likes);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,l&&r.a.createElement("button",{onClick:u,className:"like-button"},r.a.createElement(q.a,{icon:W.d,title:"like button",className:o.includes(l)?"dislike-icon":"like-icon"}),r.a.createElement("span",{className:"visually-hidden"},o.includes(l)?"Like":"Dislike","the post")),r.a.createElement(U.a,{pill:!0,color:"info"},t.length))}function ie(){var e=Object(p.j)().uuid,t=Object(n.useState)({}),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(),d=Object(u.a)(o,2),f=d[0],b=d[1],E=Object(n.useState)(c.comments),h=Object(u.a)(E,2),g=h[0],v=h[1],y=Object(n.useContext)(L);return Object(n.useEffect)((function(){(function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("knowledge/post/".concat(e));case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,l(n),b(n.likes),v(n.comments);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),c.content?r.a.createElement("div",{style:{padding:"25px"}},r.a.createElement("div",null,r.a.createElement("h4",null,c.poster.username),r.a.createElement(m.b,{to:{pathname:"/hubs/".concat(c.hub.full_path),state:{hub:c.hub}}},r.a.createElement(U.a,{color:"primary"},c.hub.title)),f&&r.a.createElement(se,{setLikes:b,likes:f,uuid:c.uuid}),r.a.createElement("footer",{style:{fontSize:"12px"}},c.date),r.a.createElement("h2",{id:"post-title"},c.title)),r.a.createElement("hr",null),r.a.createElement("div",{style:{maxWidth:"1024px",margin:"auto"}},r.a.createElement("div",{id:"post-div"},r.a.createElement(D.a,null,c.content)),r.a.createElement("hr",null),y?r.a.createElement(oe,{post:c.id,setComments:v}):r.a.createElement(O.a,{color:"danger"},"You must be logged in to comment!"),r.a.createElement("hr",null),g&&g.length>0?r.a.createElement(ae,{comments:g}):r.a.createElement(O.a,{color:"info"},"There are no comments here!"))):c.error?r.a.createElement("h2",null,"This post couldn't be found"):r.a.createElement(M.a,{color:"primary"})}function ue(){var e=Object(n.useRef)(),t=Object(E.a)(),a=t.register,c=t.handleSubmit,l=t.errors,o=Object(n.useState)({}),m=Object(u.a)(o,2),d=m[0],b=m[1],h=Object(p.h)().pathname,g=Object(p.i)(),v=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.current.disabled=!0,a.hubs=h.split("/"),t.next=4,f("/knowledge/new/post",a,"POST");case 4:if(!(n=t.sent).errors){t.next=9;break}return e.current.disabled=!1,b({type:"danger",content:n.errors[Object.keys(n.errors)[0]]}),t.abrupt("return",!1);case 9:e.current.disabled=!0,g(-1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,d.content&&r.a.createElement(O.a,{color:d.type,toggle:function(){return b({})}},d.content),r.a.createElement(re.a,{style:{margin:"10px"},method:"POST",onSubmit:c(v)},r.a.createElement("h6",null,"In here you make a new post. The content will be rendered using markdown."," ",r.a.createElement("a",{href:"https://www.markdowntutorial.com/",target:"_blank",rel:"noopener noreferrer"},"What is markdown and how to use it.")),r.a.createElement(ce.a,null,r.a.createElement(le.a,{for:"title"},"Title: "),r.a.createElement("input",{type:"text","aria-label":"title",name:"title",id:"title",placeholder:"Title...",className:"form-control",ref:a({required:!0,validate:function(e){return e.length<65}})}),l.title&&r.a.createElement("p",{className:"error-message"},"required"===l.title.type?"You must provide a title!":"Title must be 64 characters at most!")),r.a.createElement(ce.a,null,r.a.createElement(le.a,{for:"content"},"Content: "),r.a.createElement(ee.a,{type:"text","aria-label":"content",name:"content",id:"content",className:"form-control",placeholder:"Some good content...",ref:a({required:!0}),rows:20,maxLength:"2050"}),l.content&&r.a.createElement("p",{className:"error-message"},"You must provide some content!")),r.a.createElement("input",{type:"submit",value:"Create post",className:"btn btn-primary",ref:e})))}var me=a(189),pe=a(190),de=a(191);function fe(e){var t=e.post,a=Object(p.i)();return t?r.a.createElement(j.a,{lg:"6",xl:"4",style:{marginBottom:"30px"}},r.a.createElement(G.a,{className:"hover-card",onClick:function(){return a("posts/".concat(t.uuid))},title:"See more"},r.a.createElement($.a,{style:{backgroundColor:"#68d8ee"}},r.a.createElement(me.a,null,r.a.createElement("h5",null,t.title)),r.a.createElement(pe.a,null,"By: ",t.poster.username)),r.a.createElement(V.a,{className:"back-blue"},r.a.createElement(K.a,{className:"post-content"},t.content)),r.a.createElement(de.a,{className:"footer back-blue"},r.a.createElement("p",{className:"card-link"},r.a.createElement(m.b,{to:"/posts/".concat(t.uuid),"aria-label":"see more"},r.a.createElement(q.a,{icon:W.a}),r.a.createElement("span",{className:"visually-hidden"},"See more"))),r.a.createElement(K.a,{className:"text-muted"},t.date)))):r.a.createElement(M.a,{color:"primary"})}var be=a(192),Ee=Object(Y.a)(be.a);function he(e){var t,a=e.posts,n=F(),c=Object(Y.c)({from:{transform:"translateX(100px)"},to:{transform:"translateX(0px)"},immediate:n});return(null===(t=a[0])||void 0===t?void 0:t.poster)?r.a.createElement(Ee,{style:c,className:"deck"},a.map((function(e){return r.a.createElement(fe,{post:e,key:e.id})}))):null}var ge=a(193),ve=a(194),ye=a(195);function je(e){var t=e.setCurrentPage,a=e.currentPage,n=e.last;return r.a.createElement(ge.a,{style:{justifyContent:"center"}},r.a.createElement(ve.a,{disabled:1===a,key:"prev"},r.a.createElement(ye.a,{previous:!0,onClick:function(){return t(a-1)}})),Object(H.a)(new Set([1,a,n])).map((function(e){return r.a.createElement(ve.a,{active:e===a,key:e.toString()},r.a.createElement(ye.a,{onClick:function(){return t(e)}},e))})),r.a.createElement(ve.a,{disabled:a===n,key:"next"},r.a.createElement(ye.a,{next:!0,onClick:function(){return t(a+1)}})))}a(171);function Oe(e){var t=e.options,a=e.setSortBy,c=e.selected,l=Object(n.useState)(!1),o=Object(u.a)(l,2),s=o[0],i=o[1],m=F(),p=function(){return i(!s)},d=Object(Y.c)({background:s?"#68d8ee":"#8ee4f5"}),f=Object(Y.c)({y:s?180:0,immediate:m}).y,b=Object(Y.c)({transform:s?"translateY(0)":"translateY(-40px)",opacity:s?1:0,config:Y.b.gentle,immediate:m});return r.a.createElement("div",{className:"radio-container"},r.a.createElement(Y.a.button,{style:d,"data-testid":"toggle",className:"radio-wrapper",onClick:p},r.a.createElement("div",{className:"radio"},r.a.createElement("p",{className:"visually-hidden"},"Change sort options"),r.a.createElement("p",null,c),r.a.createElement(Y.a.p,{style:{transform:f.interpolate((function(e){return"rotateX(".concat(e,"deg)")}))}},s?"X":"\u25bc"))),r.a.createElement(Y.a.div,{style:b,config:Y.b.wobbly},s&&r.a.createElement("div",{className:"radio-content"},t.map((function(e){return r.a.createElement("div",{onClick:function(){return function(e){setTimeout(p,.01),a(e)}(e)},key:e[0]},r.a.createElement("button",null,e[1]))})))))}function we(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(1),o=Object(u.a)(l,2),m=o[0],p=o[1],d=Object(n.useState)(["-date","Newest"]),f=Object(u.a)(d,2),b=f[0],E=f[1];Object(n.useEffect)((function(){c({}),function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("knowledge/hub/items/1?page=".concat(m,"&sort=").concat(b[0],"&type=posts&search="));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[m,b]);return null===a?r.a.createElement(M.a,{color:"primary"}):r.a.createElement("div",{style:{overflow:"hidden"}},r.a.createElement("h3",{style:{textAlign:"center"}},"Home"),r.a.createElement(Oe,{options:[["-date","Newest"],["date","Oldest"],["-likes","Most Liked"],["likes","Least liked"]],setSortBy:E,selected:b[1]}),a.results?r.a.createElement(r.a.Fragment,null,r.a.createElement(he,{posts:a.results}),r.a.createElement(je,{currentPage:m,last:a.total,setCurrentPage:p})):r.a.createElement(M.a,{color:"primary"}))}var ke=a(196);function xe(e){var t=e.hub,a=Object(p.i)();return r.a.createElement(j.a,{md:"6",style:{marginBottom:"30px"}},r.a.createElement(G.a,{onClick:function(){return a(t.title)},title:"Go to hub",className:"hover-card"},r.a.createElement($.a,{className:"back-green"},r.a.createElement(me.a,null,r.a.createElement("h5",null,t.title)),r.a.createElement(pe.a,null,r.a.createElement("p",{style:{fontSize:"0.85em"}},"Made ",t.date))),r.a.createElement(V.a,{style:{backgroundColor:"#a2ffaf"}},r.a.createElement(K.a,null,t.description)),r.a.createElement(de.a,{className:"footer back-green"},r.a.createElement("p",{className:"card-link"},r.a.createElement(m.b,{to:"".concat(t.title),"aria-label":"see more"},r.a.createElement(q.a,{icon:W.a}),r.a.createElement("span",{className:"visually-hidden"},"See more"))))))}var Ne=Object(Y.a)(be.a);function Se(e){var t=e.hubs,a=F(),n=Object(Y.c)({from:{transform:"translateY(100px)"},to:{transform:"translateY(0px)"},immediate:a});return r.a.createElement(Ne,{style:n,className:"deck"},t.map((function(e){return r.a.createElement(xe,{hub:e})})))}function Ce(e){var t=e.setSearch,a=e.type,n=e.setCurrentPage,c=Object(E.a)(),l=c.register,o=c.handleSubmit;return r.a.createElement(re.a,{onSubmit:o((function(e){t(e.search),n(1)})),style:{padding:"20px 2rem",paddingBottom:"0px"}},r.a.createElement(le.a,{for:"search"},"Find specific ",a),r.a.createElement("input",{className:"form-control",placeholder:"What do you want to search for?",type:"text",name:"search",id:"search",ref:l,style:{marginBottom:"15px"}}),r.a.createElement("input",{className:"btn btn-primary",value:"Search",type:"submit"}))}a(73);function Te(e){var t=e.type,a=e.handleTypeChange,n=F(),c=Object(Y.c)({x:"hubs"!==t?100:0,color:"hubs"!==t?"white":"black",config:Object(J.a)({},Y.b.molasses,{friction:60}),immediate:n}),l=c.x,o=c.color;return r.a.createElement(Q.a,{color:"primary",className:"lead type-toggle-button",onClick:a,style:{borderColor:"hubs"===t&&"#86eb93"}},r.a.createElement(Y.a.span,{style:{color:o},className:"type-toggle-span"},t.charAt(0).toUpperCase()+t.slice(1)),r.a.createElement(Y.a.div,{className:"type-toggle-div",style:{transform:l.interpolate((function(e){return"translateX(-".concat(e,"%)")}))}}))}function Pe(){var e,t=Object(n.useState)(null===(e=Object(p.h)().state)||void 0===e?void 0:e.hub),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(["-date","Newest"]),d=Object(u.a)(o,2),f=d[0],b=d[1],E=Object(n.useState)(void 0),h=Object(u.a)(E,2),g=h[0],v=h[1],y=Object(n.useState)(1),j=Object(u.a)(y,2),O=j[0],w=j[1],k=Object(n.useState)("posts"),x=Object(u.a)(k,2),N=x[0],S=x[1],C=Object(n.useState)(""),T=Object(u.a)(C,2),P=T[0],L=T[1],R=Object(p.j)().title,B=Object(p.h)().pathname.split("/");Object(n.useEffect)((function(){c||function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("knowledge/hub/details/".concat(R,"?list=").concat(B));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[R,c,B]),Object(n.useEffect)((function(){(v(void 0),void 0!==c)&&function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("knowledge/hub/items/".concat(c.id,"?sort=").concat(f[0],"&page=").concat(O,"&type=").concat(N,"&search=").concat(P));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,v(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c,O,N,P,f]);var q=[["-date","Newest"],["date","Oldest"]];return"posts"===N&&q.push(["-likes","Most Liked"],["likes","Least liked"]),c?r.a.createElement("div",{style:{overflow:"hidden"}},r.a.createElement(ke.a,{style:{paddingTop:0,marginTop:"-20px",whiteSpace:"pre-wrap"}},r.a.createElement("hr",null),r.a.createElement("h2",{className:"display-3 hub-name"},R),r.a.createElement("p",{className:"lead text-md-left"},c.description),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(Te,{type:N,handleTypeChange:function(){S("posts"===N?"hubs":"posts"),b(["-date","Newest"]),w(1)}}),c.full_path.includes("/")&&r.a.createElement(m.b,{to:"posts/new"},"+ New post"))),r.a.createElement(Ce,{setSearch:L,type:N,setCurrentPage:w}),r.a.createElement(Oe,{options:q,setSortBy:b,selected:f[1]}),g?"posts"===N?r.a.createElement(r.a.Fragment,null,r.a.createElement(he,{posts:g.results}),r.a.createElement(je,{currentPage:O,last:g.total,setCurrentPage:w})):r.a.createElement(Se,{hubs:g.results}):r.a.createElement(M.a,{color:"primary"})):r.a.createElement(M.a,{color:"primary"})}var Le=a(197),Re=a(198);function Be(){var e=Object(p.h)().pathname,t=Object(n.useState)(null),a=Object(u.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){var t=e.split("/");"posts"===(t=t.filter((function(e){return!["","hubs"].includes(e)})))[t.length-2]&&t.splice(-2),l(t)}),[e]),c?r.a.createElement(Le.a,{style:{paddingTop:0}},c.map((function(e,t){return r.a.createElement(Re.a,null,r.a.createElement(m.b,{to:"/hubs/".concat(c.slice(0,t+1).join("/"))},e))}))):null}a(172);function qe(){var e=Object(n.useState)(void 0),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){if(void 0!==a)return function(){};(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/knowledge/login");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.user,c(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),r.a.createElement(m.a,null,r.a.createElement(P,{value:a},r.a.createElement(g,{value:c},r.a.createElement(X,null,r.a.createElement("div",{className:"App"},r.a.createElement(Be,null),r.a.createElement(p.e,null,r.a.createElement(p.c,{path:"/",element:r.a.createElement(we,null)}),r.a.createElement(p.c,{path:"/register",element:a?r.a.createElement(we,null):r.a.createElement(x,null)}),r.a.createElement(p.c,{path:"/login",element:a?r.a.createElement(we,null):r.a.createElement(C,null)}),r.a.createElement(p.c,{path:"posts/:uuid",element:r.a.createElement(ie,null)}),r.a.createElement(p.c,{path:"/hubs/:title*",element:r.a.createElement(We,null)},r.a.createElement(p.c,{path:"/",element:r.a.createElement(Pe,null)}),r.a.createElement(p.c,{path:"posts/:uuid",element:r.a.createElement(ie,null)}),r.a.createElement(p.c,{path:":title*",element:r.a.createElement(Ye,{loggedIn:a})}))))))))}function We(){return r.a.createElement(p.b,null)}function Ye(e){var t=e.loggedIn;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.e,null,r.a.createElement(p.c,{path:"/",element:r.a.createElement(Pe,null)}),r.a.createElement(p.c,{path:"posts/new",element:t?r.a.createElement(ue,null):r.a.createElement(p.a,{to:"/login"})}),r.a.createElement(p.c,{path:"posts/:uuid",element:r.a.createElement(ie,null)}),r.a.createElement(p.c,{path:":title*",element:r.a.createElement(Ye,{loggedIn:t})})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(qe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,a){},43:function(e,t,a){},54:function(e,t,a){},59:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){e.exports=a.p+"static/media/undraw_share_online_r87b.fbd5ff07.svg"},75:function(e,t,a){e.exports=a.p+"static/media/undraw_Login_re_4vu2.303e4a67.svg"},77:function(e,t,a){e.exports=a(173)}},[[77,1,2]]]);
//# sourceMappingURL=main.0d492d23.chunk.js.map