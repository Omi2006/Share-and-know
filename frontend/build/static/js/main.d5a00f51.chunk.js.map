{"version":3,"sources":["components/Auth/fetchCsrf.js","components/Auth/LoggedInContext.js","components/Auth/Login.js","components/Auth/Register.js","components/Auth/ToggleLoginContext.js","components/General/Dropdown.js","components/General/Search.js","components/General/Sidebar.js","components/General/SidebarContent.js","components/General/usePrefersReducedMotion.js","components/General/Pagination.js","components/Post/Like.js","components/Post/List.js","components/Post/New.js","components/Comment/Comment.js","components/Comment/List.js","components/Comment/New.js","components/Post/Post.js","components/Post/Row.js","components/Post/GeneralPosts.js","components/Post/Joined.js","components/Hub/Hub.js","components/Hub/HubList.js","components/Hub/HubPath.js","components/Hub/Row.js","components/Hub/ToggleButton.js","components/Hub/New.js","components/User/Profile.js","components/User/List.js","components/User/Row.js","components/Home/Home.js","components/Home/HomeRow.js","App.js","serviceWorker.js","index.js","images/undraw_Login_re_4vu2.svg","images/undraw_share_online_r87b.svg"],"names":["getCookie","name","document","cookie","token","split","map","c","trim","filter","startsWith","length","decodeURIComponent","fetchCsrf","url","body","method","a","fetch","mode","credentials","headers","Accept","JSON","stringify","response","json","result","status","Promise","reject","Error","errors","Object","keys","LoggedInContext","React","createContext","LoggedInProvider","Provider","Login","submitInput","useRef","useForm","register","handleSubmit","handleLogin","useContext","ToggleLoggedInContext","Row","style","margin","height","Col","md","src","loginImage","alt","width","padding","onSubmit","data","current","disabled","username","password","toast","error","duration","dismiss","promise","loading","err","toString","success","info","maxWidth","minWidth","type","placeholder","ref","required","className","aria-label","value","to","Register","getValues","submitButton","ShareImage","confirm","email","marginTop","marginBottom","validate","ToggleLoggedInProvider","Radio","options","setSortBy","selected","useState","isToggled","setIsToggled","prefersReducedMotion","usePrefersReducedMotion","toggleDropdown","menubg","useSpring","background","y","immediate","menuAppear","transform","opacity","config","gentle","button","data-testid","onClick","p","interpolate","div","wobbly","option","handleSetOption","key","Search","setSearch","setCurrentPage","Form","search","paddingBottom","Label","for","id","Sidebar","children","collapsed","setCollapsed","localStorage","getItem","theme","setTheme","content","toggleSidebar","useEffect","setItem","documentElement","setAttribute","zIndex","icon","faBars","faSun","faMoon","SidebarContent","undefined","AnimatedNav","animated","Nav","loggedIn","navigate","useNavigate","logout","goToRoute","route","routes","faHome","faUsers","push","faArchway","faSignOutAlt","faSignInAlt","faUser","vertical","NavItem","getInitialState","window","matchMedia","matches","setPrefersReducedMotion","mediaQueryList","addEventListener","event","removeEventListener","Paginate","currentPage","last","Pagination","justifyContent","paddingRight","PaginationItem","PaginationLink","previous","Set","number","active","next","LikeButton","likes","uuid","setLikes","handleLike","faHeart","title","includes","Badge","pill","color","WrappedPostList","posts","isLoading","springs","useSprings","post","from","Spinner","CardDeck","props","i","textAlign","PostForm","pathname","useLocation","hubs","hub_path","href","target","rel","FormGroup","rows","maxLength","Comment","comment","LoggedinContext","editCommentContent","setContent","editing","setEditing","toggleEditing","Card","CardHeader","backgroundColor","display","commenter","size","string","marginLeft","CardText","date","Button","fontSize","outline","faWindowClose","faSave","faEdit","CardBody","whiteSpcae","List","comments","page","setPage","slice","commentList","setCommentList","transition","useTransition","enter","pageYOffset","scroll","top","item","overflow","New","setComments","reset","prevComments","Post","useParams","setPost","getPost","console","log","flexDirection","poster","hub","full_path","path","CardTitle","CardSubtitle","CardFooter","faArrowCircleRight","JoinedHubs","setPosts","sortBy","getPosts","results","total","Hub","setHub","members","joinStatus","setJoinStatus","setIsLoading","items","setItems","setType","pathlist","getHub","getItems","Jumbotron","paddingTop","whiteSpace","replace","description","ToggleButton","handleTypeChange","HubList","HubPath","hubPath","setHubPath","newHubPath","splice","Breadcrumb","index","BreadcrumbItem","join","molasses","friction","borderColor","span","charAt","toUpperCase","NewHub","toLowerCase","UserPosts","user","setUser","getUser","bg","post_count","joined_hubs_count","UserList","users","setUsers","transitions","leave","getUsers","ListGroup","flush","UserRow","ListGroupItem","Home","boxShadow","App","setLoggedIn","element","Hubs","HubRoutes","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message","module","exports"],"mappings":"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","file":"static/js/main.d5a00f51.chunk.js","sourcesContent":["//Get a cookie function, taken from Stack Overflow and django docs\r\nfunction getCookie(name) {\r\n    if (!document.cookie) {\r\n        return null;\r\n    }\r\n    const token = document.cookie\r\n        .split(';')\r\n        .map(c => c.trim())\r\n        .filter(c => c.startsWith(name + '='));\r\n\r\n    if (token.length === 0) {\r\n        return null;\r\n    }\r\n    return decodeURIComponent(token[0].split('=')[1]);\r\n}\r\n\r\nexport async function fetchCsrf(url, body, method) {\r\n    try {\r\n        const response = await fetch(url, {\r\n            method: method,\r\n            mode: 'same-origin',\r\n            credentials: 'include',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'X-CSRFToken': getCookie('csrftoken'),\r\n            },\r\n            body: JSON.stringify(body),\r\n        });\r\n        const result = await response.json();\r\n        if (response.status > 399) {\r\n            return Promise.reject(\r\n                new Error(result.errors[Object.keys(result.errors)[0]])\r\n            );\r\n        }\r\n        return result;\r\n    } catch {\r\n        return Promise.reject(\r\n            new Error('An error has occured, try again later')\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nconst LoggedInContext = React.createContext({});\r\nexport const LoggedInProvider = LoggedInContext.Provider;\r\n\r\nexport default LoggedInContext;\r\n","import React, { useContext, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Row, Col } from 'reactstrap';\r\nimport { useForm } from 'react-hook-form';\r\nimport { ToggleLoggedInContext, fetchCsrf } from './';\r\nimport toast from 'react-hot-toast';\r\nimport loginImage from '../../images/undraw_Login_re_4vu2.svg';\r\nimport '../../style/auth.css';\r\n\r\nexport default function Login() {\r\n    const submitInput = useRef();\r\n    const { register, errors, handleSubmit } = useForm();\r\n    const handleLogin = useContext(ToggleLoggedInContext);\r\n\r\n    const onSubmit = data => {\r\n        // For tests only\r\n        if (submitInput.current === null) {\r\n            return;\r\n        }\r\n        submitInput.current.disabled = true;\r\n        // Check inputs were filled out\r\n        if (data.username.length <= 0 || data.password.length <= 0) {\r\n            toast.error('Fill out all fields!', { duration: 1000 });\r\n            submitInput.current.disabled = false;\r\n            return false;\r\n        }\r\n        const result = fetchCsrf('/knowledge/login', data, 'POST');\r\n        toast.dismiss();\r\n        toast.promise(\r\n            result,\r\n            {\r\n                loading: 'Loading...',\r\n                error: err => {\r\n                    submitInput.current.disabled = false;\r\n                    return err.toString();\r\n                },\r\n                success: info => {\r\n                    // login the user\r\n                    submitInput.current.disabled = false;\r\n                    handleLogin(info.username);\r\n                    return 'Logged in successfully!';\r\n                },\r\n            },\r\n            {\r\n                error: { duration: 2000 },\r\n            }\r\n        );\r\n    };\r\n\r\n    return (\r\n        <Row style={{ margin: '15px', height: '100%' }}>\r\n            <Col md=\"12\">\r\n                <h4>\r\n                    Welcome back! Login to start interacting with other users\r\n                </h4>\r\n                <img\r\n                    src={loginImage}\r\n                    alt=\"login\"\r\n                    style={{ width: '50vw', padding: '20px' }}\r\n                />\r\n            </Col>\r\n            <Col md=\"12\">\r\n                <form\r\n                    onSubmit={handleSubmit(onSubmit)}\r\n                    style={{\r\n                        margin: 'auto',\r\n                        maxWidth: '320px',\r\n                        minWidth: '0px',\r\n                    }}\r\n                >\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Username\"\r\n                        ref={register({ required: true })}\r\n                        className=\"form-control input\"\r\n                        name=\"username\"\r\n                        aria-label=\"username\"\r\n                    />\r\n                    {errors.username && (\r\n                        <p className=\"error-message\">\r\n                            Remember to fill out the username!\r\n                        </p>\r\n                    )}\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        ref={register({ required: true })}\r\n                        className=\"form-control input\"\r\n                        name=\"password\"\r\n                        aria-label=\"password\"\r\n                    />\r\n                    {errors.password && (\r\n                        <p className=\"error-message\">\r\n                            Remember to fill out the password!\r\n                        </p>\r\n                    )}\r\n                    <input\r\n                        type=\"submit\"\r\n                        value=\"Login\"\r\n                        ref={submitInput}\r\n                        aria-label=\"login\"\r\n                        className=\"btn btn-primary\"\r\n                    />\r\n                    <footer>\r\n                        <small>\r\n                            Don't have an account? Register{' '}\r\n                            <Link to=\"/register\">here</Link>\r\n                        </small>\r\n                    </footer>\r\n                </form>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n","import React, { useContext, useRef } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { ToggleLoggedInContext, fetchCsrf } from './';\r\nimport { Col, Row } from 'reactstrap';\r\nimport toast from 'react-hot-toast';\r\n\r\nimport ShareImage from '../../images/undraw_share_online_r87b.svg';\r\nimport '../../style/auth.css';\r\n\r\nexport default function Register() {\r\n    const { handleSubmit, errors, register, getValues } = useForm();\r\n    const handleLogin = useContext(ToggleLoggedInContext);\r\n    const submitButton = useRef();\r\n\r\n    const onSubmit = data => {\r\n        if (submitButton.current === null) {\r\n            return;\r\n        }\r\n        submitButton.current.disabled = true;\r\n        if (\r\n            data.username.length <= 0 ||\r\n            data.password.length <= 0 ||\r\n            data.confirm.length <= 0 ||\r\n            data.email.length <= 0\r\n        ) {\r\n            submitButton.current.disabled = false;\r\n            toast.error('Fill out all fields!', { duration: 1000 });\r\n            return false;\r\n        } else if (data.password !== data.confirm) {\r\n            submitButton.current.disabled = false;\r\n            toast.error('Password and confirm fields must match!', {\r\n                duration: 1000,\r\n            });\r\n            return false;\r\n        }\r\n        const result = fetchCsrf('/knowledge/register', data, 'POST');\r\n        toast.dismiss();\r\n        toast.promise(\r\n            result,\r\n            {\r\n                loading: 'Loading...',\r\n                error: err => {\r\n                    submitButton.current.disabled = false;\r\n                    return err.toString();\r\n                },\r\n                success: info => {\r\n                    submitButton.current.disabled = false;\r\n                    handleLogin(info.username);\r\n                    return 'Account created successfully!';\r\n                },\r\n            },\r\n            {\r\n                error: { duration: 2000 },\r\n            }\r\n        );\r\n    };\r\n\r\n    return (\r\n        <Row style={{ margin: '15px' }}>\r\n            <Col md=\"12\">\r\n                <h4>Welcome! Register to interact with other users.</h4>\r\n                <img\r\n                    src={ShareImage}\r\n                    alt=\"Share online\"\r\n                    style={{ width: '40vw', padding: '20px' }}\r\n                />\r\n            </Col>\r\n            <Col md=\"12\">\r\n                <form\r\n                    style={{\r\n                        padding: '10px',\r\n                        margin: 'auto',\r\n                        maxWidth: '320px',\r\n                    }}\r\n                    onSubmit={handleSubmit(onSubmit)}\r\n                >\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Username\"\r\n                        ref={register({ required: true })}\r\n                        className=\"form-control input\"\r\n                        name=\"username\"\r\n                        aria-label=\"username\"\r\n                    />\r\n                    {errors.username && (\r\n                        <p className=\"error-message\">\r\n                            Remember to fill out the username!\r\n                        </p>\r\n                    )}\r\n                    <input\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        className=\"form-control input\"\r\n                        name=\"email\"\r\n                        aria-label=\"email\"\r\n                        ref={register({ required: true })}\r\n                        style={{ marginTop: '10px', marginBottom: '10px' }}\r\n                    />\r\n                    {errors.email && (\r\n                        <p className=\"error-message\">\r\n                            Remember to fill out the email!\r\n                        </p>\r\n                    )}\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        className=\"form-control input\"\r\n                        name=\"password\"\r\n                        aria-label=\"password\"\r\n                        ref={register({\r\n                            required: true,\r\n                            validate: value => value === getValues().confirm,\r\n                        })}\r\n                        style={{ marginTop: '10px', marginBottom: '10px' }}\r\n                    />\r\n                    {errors.password && (\r\n                        <p className=\"error-message\">\r\n                            {errors.password.type === 'required'\r\n                                ? 'Remember to fill out the password!'\r\n                                : 'Password and confirm fields must match!'}\r\n                        </p>\r\n                    )}\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Confirm password\"\r\n                        className=\"form-control input\"\r\n                        name=\"confirm\"\r\n                        ref={register({ required: true })}\r\n                        aria-label=\"confirm\"\r\n                        style={{ marginTop: '10px', marginBottom: '10px' }}\r\n                    />\r\n                    {errors.confirm && (\r\n                        <p className=\"error-message\">\r\n                            Remember to fill out the confirm password!\r\n                        </p>\r\n                    )}\r\n\r\n                    <input\r\n                        type=\"submit\"\r\n                        value=\"Register\"\r\n                        aria-label=\"register\"\r\n                        ref={submitButton}\r\n                        className=\"btn btn-primary\"\r\n                    />\r\n                </form>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nconst ToggleLoggedInContext = React.createContext({});\r\nexport const ToggleLoggedInProvider = ToggleLoggedInContext.Provider;\r\n\r\nexport default ToggleLoggedInContext;\r\n","import React, { useState } from 'react';\r\nimport { useSpring, animated, config } from 'react-spring';\r\nimport { usePrefersReducedMotion } from './';\r\nimport '../../style/dropdown.css';\r\n\r\nexport default function Radio({ options, setSortBy, selected }) {\r\n    const [isToggled, setIsToggled] = useState(false);\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n    const toggleDropdown = () => setIsToggled(!isToggled);\r\n\r\n    const menubg = useSpring({ background: isToggled ? '#68d8ee' : '#8ee4f5' });\r\n    const { y } = useSpring({\r\n        y: isToggled ? 180 : 0,\r\n        immediate: prefersReducedMotion,\r\n    });\r\n    const menuAppear = useSpring({\r\n        transform: isToggled ? 'translateY(0)' : 'translateY(-40px)',\r\n        opacity: isToggled ? 1 : 0,\r\n        config: config.gentle,\r\n        immediate: prefersReducedMotion,\r\n    });\r\n\r\n    const handleSetOption = option => {\r\n        //Wait for items to disappear before toggle\r\n        setSortBy(option);\r\n        toggleDropdown();\r\n    };\r\n\r\n    return (\r\n        <div className=\"radio-container\">\r\n            <animated.button\r\n                style={menubg}\r\n                data-testid=\"toggle\"\r\n                className=\"radio-wrapper\"\r\n                onClick={toggleDropdown}\r\n            >\r\n                <div className=\"radio\">\r\n                    <p className=\"visually-hidden\">Change sort options</p>\r\n                    <p>{selected}</p>\r\n                    <animated.p\r\n                        style={{\r\n                            transform: y.interpolate(y => `rotateX(${y}deg)`),\r\n                        }}\r\n                    >\r\n                        {isToggled ? 'X' : '▼'}\r\n                    </animated.p>\r\n                </div>\r\n            </animated.button>\r\n            <animated.div style={menuAppear} config={config.wobbly}>\r\n                {isToggled && (\r\n                    <div className=\"radio-content\">\r\n                        {options.map(option => (\r\n                            <div\r\n                                onClick={() => handleSetOption(option)}\r\n                                key={option[0]}\r\n                            >\r\n                                <button>{option[1]}</button>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </animated.div>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport '../../style/auth.css';\r\nimport { Form, Label } from 'reactstrap';\r\n\r\nexport default function Search({ setSearch, type, setCurrentPage }) {\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    const onSubmit = data => {\r\n        setSearch(data.search);\r\n        //Set the current page to avoid errors if the pages count is less than the current page\r\n        setCurrentPage(1);\r\n    };\r\n\r\n    return (\r\n        <Form\r\n            onSubmit={handleSubmit(onSubmit)}\r\n            style={{ padding: '20px 2rem', paddingBottom: '0px' }}\r\n        >\r\n            <Label for=\"search\">Find specific {type}</Label>\r\n            <input\r\n                className=\"form-control\"\r\n                placeholder=\"What do you want to search for?\"\r\n                type=\"text\"\r\n                name=\"search\"\r\n                id=\"search\"\r\n                ref={register}\r\n                style={{ marginBottom: '15px' }}\r\n            />\r\n            <input className=\"btn btn-primary\" value=\"Search\" type=\"submit\" />\r\n        </Form>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { SidebarContent, usePrefersReducedMotion } from './';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSun, faMoon, faBars } from '@fortawesome/free-solid-svg-icons';\r\nimport { useSpring } from 'react-spring';\r\nimport './../../style/navbar.css';\r\n\r\nexport default function Sidebar({ children }) {\r\n    const [collapsed, setCollapsed] = useState(true);\r\n    const [theme, setTheme] = useState(localStorage.getItem('theme'));\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n\r\n    const content = useSpring({\r\n        opacity: !collapsed ? 1 : 0,\r\n        transform: !collapsed\r\n            ? 'translate3D(0%, 0, 0)'\r\n            : 'translate3D(-100%, 0, 0)',\r\n        immediate: prefersReducedMotion,\r\n    });\r\n\r\n    const toggleTheme = () => setTheme(theme === 'dark' ? 'light' : 'dark');\r\n\r\n    const toggleSidebar = () => {\r\n        setCollapsed(!collapsed);\r\n    };\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('theme', theme);\r\n        document.documentElement.setAttribute('data-theme', theme);\r\n    }, [theme]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"navnavbar\">\r\n                <button\r\n                    style={{ padding: '0px ', zIndex: 9998 }}\r\n                    onClick={toggleSidebar}\r\n                    className=\"navnavicon\"\r\n                >\r\n                    <FontAwesomeIcon icon={faBars} />\r\n                    <span className=\"visually-hidden\">Toggle sidebar</span>\r\n                </button>\r\n                <button\r\n                    className=\"theme navnavicon\"\r\n                    style={{ padding: '0px ' }}\r\n                    onClick={toggleTheme}\r\n                >\r\n                    <FontAwesomeIcon\r\n                        className=\"theme\"\r\n                        icon={theme === 'dark' ? faSun : faMoon}\r\n                    />\r\n                </button>\r\n            </div>\r\n            <SidebarContent toggleSidebar={toggleSidebar} style={content} />\r\n            <div\r\n                style={{ filter: !collapsed && 'blur(5px)' }}\r\n                onClick={!collapsed ? toggleSidebar : undefined}\r\n            >\r\n                {children}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Nav, NavItem } from 'reactstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n    faArchway,\r\n    faHome,\r\n    faSignInAlt,\r\n    faSignOutAlt,\r\n    faUser,\r\n    faUsers,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { ToggleLoggedInContext, LoggedInContext } from '../Auth';\r\nimport { animated } from 'react-spring';\r\nimport toast from 'react-hot-toast';\r\nimport '../../style/navbar.css';\r\n\r\nconst AnimatedNav = animated(Nav);\r\n\r\nexport default function SidebarContent({ toggleSidebar, style }) {\r\n    const loggedIn = useContext(LoggedInContext);\r\n    const handleLogin = useContext(ToggleLoggedInContext);\r\n    const navigate = useNavigate();\r\n\r\n    const logout = async () => {\r\n        const response = await fetch('/knowledge/logout');\r\n        const result = response.json();\r\n        toast.promise(result, {\r\n            loading: 'Loading...',\r\n            error: err => err.toString(),\r\n            success: () => {\r\n                handleLogin(null);\r\n                toggleSidebar();\r\n                return 'Logged out successfully!';\r\n            },\r\n        });\r\n    };\r\n\r\n    const goToRoute = route => {\r\n        navigate(route);\r\n        toggleSidebar();\r\n    };\r\n\r\n    //Generate the routes based on whether the user is logged in or not\r\n    const routes = [\r\n        {\r\n            onClick: () => goToRoute('/'),\r\n            icon: faHome,\r\n            name: 'Home',\r\n        },\r\n        {\r\n            onClick: () => goToRoute('/users'),\r\n            name: 'Users',\r\n            icon: faUsers,\r\n        },\r\n    ];\r\n    loggedIn\r\n        ? routes.push(\r\n              {\r\n                  onClick: () => goToRoute('/joined'),\r\n                  icon: faArchway,\r\n                  name: 'Your hubs',\r\n              },\r\n              {\r\n                  onClick: logout,\r\n                  icon: faSignOutAlt,\r\n                  name: 'Logout',\r\n              }\r\n          )\r\n        : routes.push(\r\n              {\r\n                  onClick: () => goToRoute('/login'),\r\n                  icon: faSignInAlt,\r\n                  name: 'Login',\r\n              },\r\n              {\r\n                  onClick: () => goToRoute('/register'),\r\n                  icon: faUser,\r\n                  name: 'Register',\r\n              }\r\n          );\r\n\r\n    return (\r\n        <AnimatedNav vertical style={style} className=\"navnav\">\r\n            <h3>Share</h3>\r\n            <hr />\r\n            {routes.map(route => (\r\n                <NavItem key={route.name}>\r\n                    <button\r\n                        onClick={route.onClick}\r\n                        className=\"navnavbutton navnavlink\"\r\n                    >\r\n                        <FontAwesomeIcon\r\n                            icon={route.icon}\r\n                            className=\"navnavitem\"\r\n                        />\r\n                        <p className=\"navnavtext\">{route.name}</p>\r\n                    </button>\r\n                </NavItem>\r\n            ))}\r\n        </AnimatedNav>\r\n    );\r\n}\r\n","import { useState, useEffect } from 'react';\r\n\r\n//Hook used for accesibility purposes to disable animations\r\n\r\nconst getInitialState = () =>\r\n    !window.matchMedia('(prefers-reduced-motion: no-preference)').matches;\r\n\r\nexport default function usePrefersReducedMotion() {\r\n    const [prefersReducedMotion, setPrefersReducedMotion] = useState(\r\n        getInitialState\r\n    );\r\n\r\n    useEffect(() => {\r\n        const mediaQueryList = window.matchMedia(\r\n            '(prefers-reduced-motion: no-preference)'\r\n        );\r\n        mediaQueryList.addEventListener('change', event => {\r\n            setPrefersReducedMotion(!event.matches);\r\n        });\r\n\r\n        return () => {\r\n            mediaQueryList.removeEventListener('change', event => {\r\n                setPrefersReducedMotion(!event.matches);\r\n            });\r\n        };\r\n    }, []);\r\n    return prefersReducedMotion;\r\n}\r\n","import React from 'react';\r\nimport { PaginationItem, PaginationLink, Pagination } from 'reactstrap';\r\n\r\nexport default function Paginate({ setCurrentPage, currentPage, last }) {\r\n    return (\r\n        <Pagination\r\n            style={{\r\n                justifyContent: 'center',\r\n                padding: '10px 1.6rem',\r\n                paddingRight: '3.2rem',\r\n            }}\r\n        >\r\n            {/* Make sure current page isn't the first to disable it */}\r\n            <PaginationItem disabled={currentPage === 1} key=\"prev\">\r\n                <PaginationLink\r\n                    previous\r\n                    onClick={() => setCurrentPage(currentPage - 1)}\r\n                />\r\n            </PaginationItem>\r\n            {/*Make the list of pages uniqui in case the active one is first or last by making the list a set and then a list again*/}\r\n            {[...new Set([1, currentPage, last])].map(number => (\r\n                <PaginationItem active={number === currentPage} key={number}>\r\n                    <PaginationLink onClick={() => setCurrentPage(number)}>\r\n                        {number}\r\n                    </PaginationLink>\r\n                </PaginationItem>\r\n            ))}\r\n            {/* Make sure current page isn't the last to disable it */}\r\n            <PaginationItem disabled={currentPage === last} key=\"next\">\r\n                <PaginationLink\r\n                    next\r\n                    onClick={() => setCurrentPage(currentPage + 1)}\r\n                />\r\n            </PaginationItem>\r\n        </Pagination>\r\n    );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faHeart } from '@fortawesome/free-solid-svg-icons';\r\nimport { fetchCsrf } from '../Auth/fetchCsrf';\r\nimport { Badge } from 'reactstrap';\r\nimport { LoggedInContext } from '../Auth';\r\nimport '../../style/post.css';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport default function LikeButton({ likes, uuid, setLikes }) {\r\n    const loggedIn = useContext(LoggedInContext);\r\n\r\n    const handleLike = async () => {\r\n        try {\r\n            const result = await fetchCsrf(\r\n                `/knowledge/post/${uuid}`,\r\n                {},\r\n                'PUT'\r\n            );\r\n            setLikes(result.likes);\r\n        } catch (err) {\r\n            toast.error(err.toString());\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {loggedIn && (\r\n                <button onClick={handleLike} className=\"like-button\">\r\n                    <FontAwesomeIcon\r\n                        icon={faHeart}\r\n                        title=\"like button\"\r\n                        className={\r\n                            likes.includes(loggedIn)\r\n                                ? 'dislike-icon'\r\n                                : 'like-icon'\r\n                        }\r\n                    />\r\n                    <span className=\"visually-hidden\">\r\n                        {likes.includes(loggedIn) ? 'Like' : 'Dislike'}\r\n                        the post\r\n                    </span>\r\n                </button>\r\n            )}\r\n            <Badge pill color=\"info\">\r\n                {likes.length}\r\n            </Badge>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { PostRow } from './';\r\nimport { CardDeck, Spinner } from 'reactstrap';\r\nimport { animated, useSprings } from 'react-spring';\r\nimport { usePrefersReducedMotion } from '../General';\r\n\r\nexport default function WrappedPostList({ posts, isLoading }) {\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n\r\n    const springs = useSprings(\r\n        posts.length,\r\n        posts.map(post => ({\r\n            from: {\r\n                transform: 'translate3D(100px,0,0)',\r\n            },\r\n            to: {\r\n                transform: 'translate3D(0,0,0)',\r\n            },\r\n            immediate: prefersReducedMotion,\r\n        }))\r\n    );\r\n    //Handle no posts, temporal fix as for the poster, handle the type rerender before the items update\r\n    return isLoading ? (\r\n        <Spinner color=\"primary\" />\r\n    ) : posts.length > 0 ? (\r\n        <CardDeck className=\"deck\">\r\n            {springs.map((props, i) => (\r\n                <animated.div\r\n                    style={props}\r\n                    key={posts[i].id}\r\n                    className=\"col-md-12\"\r\n                >\r\n                    <PostRow post={posts[i]} />\r\n                </animated.div>\r\n            ))}\r\n        </CardDeck>\r\n    ) : (\r\n        <h5 style={{ margin: '20px', textAlign: 'center' }}>\r\n            Nothing to see here!\r\n        </h5>\r\n    );\r\n}\r\n","import React, { useRef } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { FormGroup, Form, Label } from 'reactstrap';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { fetchCsrf } from '../Auth';\r\nimport TextArea from 'react-autosize-textarea';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport default function PostForm() {\r\n    const submitButton = useRef();\r\n    const { register, handleSubmit, errors } = useForm();\r\n    const { pathname } = useLocation();\r\n    const navigate = useNavigate();\r\n\r\n    const onSubmit = data => {\r\n        if (submitButton.current === null) {\r\n            return;\r\n        }\r\n        submitButton.current.disabled = true;\r\n        data.hubs = pathname.split('/');\r\n        const result = fetchCsrf('/knowledge/new/post', data, 'POST');\r\n        //Check for server errors\r\n        toast.promise(result, {\r\n            loading: 'Loading...',\r\n            error: err => {\r\n                submitButton.current.disabled = false;\r\n                return err.toString();\r\n            },\r\n            success: info => {\r\n                //Solve hanging loading toast\r\n                submitButton.current.disabled = false;\r\n                navigate(`/hubs/${info.hub_path}/posts/${info.uuid}`);\r\n                return 'Post created successfully!';\r\n            },\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: '20px' }}>\r\n            <h3>New post</h3>\r\n            <Form\r\n                style={{ margin: '10px' }}\r\n                method=\"POST\"\r\n                onSubmit={handleSubmit(onSubmit)}\r\n            >\r\n                <h6>\r\n                    In here you make a new post. The content will be rendered\r\n                    using markdown.{' '}\r\n                    <a\r\n                        href=\"https://www.markdowntutorial.com/\"\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                    >\r\n                        What is markdown and how to use it.\r\n                    </a>\r\n                </h6>\r\n                <FormGroup>\r\n                    <Label for=\"title\">Title: </Label>\r\n                    <input\r\n                        type=\"text\"\r\n                        aria-label=\"title\"\r\n                        name=\"title\"\r\n                        id=\"title\"\r\n                        placeholder=\"Title...\"\r\n                        className=\"form-control\"\r\n                        ref={register({\r\n                            required: true,\r\n                            validate: value => value.length < 65,\r\n                        })}\r\n                    />\r\n                    {errors.title && (\r\n                        <p className=\"error-message\">\r\n                            {errors.title.type === 'required'\r\n                                ? 'You must provide a title!'\r\n                                : 'Title must be 64 characters at most!'}\r\n                        </p>\r\n                    )}\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    <Label for=\"content\">Content: </Label>\r\n                    <TextArea\r\n                        type=\"text\"\r\n                        aria-label=\"content\"\r\n                        name=\"content\"\r\n                        id=\"content\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Some good content...\"\r\n                        ref={register({ required: true })}\r\n                        rows={20}\r\n                        maxLength=\"2050\"\r\n                    />\r\n                    {errors.content && (\r\n                        <p className=\"error-message\">\r\n                            You must provide some content!\r\n                        </p>\r\n                    )}\r\n                </FormGroup>\r\n                <input\r\n                    type=\"submit\"\r\n                    value=\"Create post\"\r\n                    className=\"btn btn-primary\"\r\n                    ref={submitButton}\r\n                />\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useContext, useRef, useState } from 'react';\r\nimport { Card, CardHeader, CardText, CardBody, Button } from 'reactstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n    faEdit,\r\n    faSave,\r\n    faWindowClose,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchCsrf } from '../Auth';\r\nimport Identicon from 'react-identicons';\r\nimport TextArea from 'react-autosize-textarea';\r\nimport Markdown from 'react-markdown';\r\nimport LoggedinContext from '../Auth/LoggedInContext';\r\nimport toast from 'react-hot-toast';\r\nimport '../../style/post.css';\r\n\r\nexport default function Comment({ comment }) {\r\n    const loggedIn = useContext(LoggedinContext);\r\n    const editCommentContent = useRef();\r\n    const [content, setContent] = useState(comment.content);\r\n    const [editing, setEditing] = useState(false);\r\n\r\n    const toggleEditing = () => setEditing(!editing);\r\n\r\n    const editComment = () => {\r\n        if (editCommentContent.current) {\r\n            const { value } = editCommentContent.current;\r\n            if (value.length > 256) {\r\n                toast.error('Comment must be less than 256 characters long');\r\n                return;\r\n            }\r\n            setContent(value);\r\n            const result = fetchCsrf(\r\n                `/knowledge/comment/${comment.id}`,\r\n                { content: value },\r\n                'PUT'\r\n            );\r\n            toast.promise(\r\n                result,\r\n                {\r\n                    loading: 'Loading...',\r\n                    error: err => err.toString(),\r\n                    success: 'Comment edited successfully!',\r\n                },\r\n                {\r\n                    error: { duration: 2000 },\r\n                }\r\n            );\r\n        }\r\n        toggleEditing();\r\n    };\r\n    return (\r\n        <Card style={{ marginTop: '20px', marginBottom: '20px' }}>\r\n            <CardHeader\r\n                style={{\r\n                    backgroundColor: 'rgb(203, 223, 230)',\r\n                    display: 'inline-flex',\r\n                    justifyContent: 'space-between',\r\n                }}\r\n            >\r\n                <div>\r\n                    <Link\r\n                        to={`/users/${comment.commenter}`}\r\n                        className=\"discrete-link\"\r\n                        style={{ display: 'inline-flex' }}\r\n                    >\r\n                        <Identicon size=\"28\" string={comment.commenter} />\r\n                        <h4 style={{ marginLeft: '10px' }}>\r\n                            {comment.commenter}\r\n                        </h4>\r\n                    </Link>\r\n                    <CardText className=\"text-muted\">{comment.date}</CardText>\r\n                </div>\r\n                {comment.commenter === loggedIn && (\r\n                    <div>\r\n                        {editing && (\r\n                            <Button\r\n                                color=\"danger\"\r\n                                style={{ fontSize: '0.9rem' }}\r\n                                outline\r\n                                title=\"Cancel\"\r\n                                onClick={toggleEditing}\r\n                            >\r\n                                <span className=\"visually-hidden\">cancel</span>\r\n                                <FontAwesomeIcon icon={faWindowClose} />\r\n                            </Button>\r\n                        )}\r\n                        <Button\r\n                            color={editing ? 'success' : 'primary'}\r\n                            style={{ marginLeft: '10px', fontSize: '0.9rem' }}\r\n                            outline\r\n                            title={editing ? 'Save' : 'Edit'}\r\n                            disabled={\r\n                                editCommentContent.current &&\r\n                                editCommentContent.current.length < 1\r\n                            }\r\n                            onClick={editComment}\r\n                        >\r\n                            <span className=\"visually-hidden\">\r\n                                {editing ? 'save' : 'edit'}\r\n                            </span>\r\n                            <FontAwesomeIcon icon={editing ? faSave : faEdit} />\r\n                        </Button>\r\n                    </div>\r\n                )}\r\n            </CardHeader>\r\n            <CardBody style={{ backgroundColor: 'rgb(215, 245, 255)' }}>\r\n                {editing ? (\r\n                    <TextArea\r\n                        className=\"edit-comment\"\r\n                        ref={editCommentContent}\r\n                        maxLength=\"256\"\r\n                    >\r\n                        {content}\r\n                    </TextArea>\r\n                ) : (\r\n                    <Markdown\r\n                        style={{\r\n                            whiteSpcae: 'preWrap',\r\n                            marginTop: '0px',\r\n                            marginBottom: '1rem',\r\n                        }}\r\n                    >\r\n                        {content}\r\n                    </Markdown>\r\n                )}\r\n            </CardBody>\r\n        </Card>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Comment from './Comment';\r\nimport { useTransition, animated, config } from 'react-spring';\r\nimport { usePrefersReducedMotion } from '../General';\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport default function List({ comments }) {\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n    const [page, setPage] = useState(1);\r\n    const [commentList, setCommentList] = useState(comments.slice(0, 5));\r\n\r\n    const transition = useTransition(commentList, comment => comment.id, {\r\n        from: {\r\n            opacity: 0,\r\n            transform: 'translate3D(-100px,0,0)',\r\n        },\r\n        enter: { opacity: 1, transform: 'translate3D(0,0,0)' },\r\n        config: config.wobbly,\r\n        immediate: prefersReducedMotion,\r\n    });\r\n\r\n    const handleLoadMore = () => {\r\n        setCommentList([\r\n            ...commentList,\r\n            ...comments.slice(page * 5, (page + 1) * 5),\r\n        ]);\r\n        setPage(page + 1);\r\n    };\r\n\r\n    let pageYOffset = window.pageYOffset;\r\n\r\n    useEffect(() => {\r\n        setCommentList(comments.slice(0, page * 5));\r\n    }, [comments]);\r\n\r\n    //Keep the same page scroll so that the comments don't appear at the bottom.\r\n    useEffect(() => {\r\n        window.scroll({ top: pageYOffset });\r\n    }, [commentList, pageYOffset]);\r\n\r\n    return (\r\n        <div>\r\n            {transition.map(({ item, key, props }) => (\r\n                <animated.div\r\n                    style={{ ...props, overflow: 'hidden' }}\r\n                    key={key}\r\n                >\r\n                    <Comment comment={item} />\r\n                </animated.div>\r\n            ))}\r\n            {page * 5 <= comments.length && (\r\n                <button\r\n                    className=\"btn btn-primary center\"\r\n                    onClick={handleLoadMore}\r\n                >\r\n                    Load more\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useRef } from 'react';\r\nimport { fetchCsrf } from '../Auth';\r\nimport { Form, FormGroup } from 'reactstrap';\r\nimport { useForm } from 'react-hook-form';\r\nimport TextArea from 'react-autosize-textarea';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport default function New({ setComments, post }) {\r\n    const { register, handleSubmit, reset, errors } = useForm();\r\n    const submitButton = useRef();\r\n\r\n    const onSubmit = data => {\r\n        //Disable button to prevent submitting twice\r\n        submitButton.current.disabled = true;\r\n\r\n        if (data.content.length < 1) {\r\n            toast.error('You must fill out the comment!');\r\n            submitButton.current.disabled = false;\r\n            return;\r\n        }\r\n        const formData = {\r\n            content: data.content,\r\n            post: post,\r\n        };\r\n        const result = fetchCsrf('/knowledge/comment', formData, 'POST');\r\n        //Check for server errors\r\n        toast.promise(\r\n            result,\r\n            {\r\n                loading: 'Loading...',\r\n                error: err => {\r\n                    submitButton.current.disabled = false;\r\n                    return err.toString();\r\n                },\r\n                success: data => {\r\n                    reset();\r\n                    setComments(prevComments => [\r\n                        data.comment,\r\n                        ...prevComments,\r\n                    ]);\r\n                    submitButton.current.disabled = false;\r\n                    return 'Comment created successfully!';\r\n                },\r\n            },\r\n            {\r\n                error: { duration: 2000 },\r\n            }\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {errors.content && (\r\n                <p className=\"error-message\">\r\n                    {errors.content.type === 'required'\r\n                        ? 'You must fill out the comment!'\r\n                        : 'Comment must be under 257 characters!'}\r\n                </p>\r\n            )}\r\n            <Form onSubmit={handleSubmit(onSubmit)}>\r\n                <FormGroup>\r\n                    <TextArea\r\n                        ref={register({\r\n                            required: true,\r\n                            validate: value => value.length < 257,\r\n                        })}\r\n                        placeholder=\"A valuable comment...\"\r\n                        name=\"content\"\r\n                        aria-label=\"Comment content\"\r\n                        className=\"form-control\"\r\n                    />\r\n                </FormGroup>\r\n                <input\r\n                    type=\"submit\"\r\n                    value=\"Share your comment\"\r\n                    className=\"btn btn-primary\"\r\n                    ref={submitButton}\r\n                />\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Badge, Spinner } from 'reactstrap';\r\nimport { CommentList, NewComment } from '../Comment';\r\nimport { LoggedInContext } from '../Auth';\r\nimport { LikeButton } from './';\r\nimport Identicon from 'react-identicons';\r\nimport Markdown from 'react-markdown';\r\nimport '../../style/post.css';\r\n\r\nexport default function Post() {\r\n    const { uuid } = useParams();\r\n    const [post, setPost] = useState({});\r\n    const [likes, setLikes] = useState();\r\n    const [comments, setComments] = useState([]);\r\n    const loggedIn = useContext(LoggedInContext);\r\n\r\n    useEffect(() => {\r\n        //get the post and set the comments\r\n        const getPost = async () => {\r\n            const response = await fetch(`/knowledge/post/${uuid}`);\r\n            const result = await response.json();\r\n            setPost(result);\r\n            setLikes(result.likes);\r\n            setComments(result.comments);\r\n        };\r\n        getPost();\r\n    }, [uuid]);\r\n\r\n    useEffect(() => {\r\n        console.log(comments);\r\n    }, [comments]);\r\n\r\n    return !post.content ? (\r\n        !post.error ? (\r\n            <Spinner color=\"primary\" />\r\n        ) : (\r\n            <h2>This post couldn't be found</h2>\r\n        )\r\n    ) : (\r\n        <div style={{ padding: '25px' }}>\r\n            <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                <Link\r\n                    to={`/users/${post.poster}`}\r\n                    className=\"discrete-link\"\r\n                    style={{\r\n                        display: 'inline-flex',\r\n                        marginBottom: '10px',\r\n                        width: 'min-content',\r\n                    }}\r\n                >\r\n                    <Identicon size=\"33\" string={post.poster} />\r\n                    <h3 style={{ marginLeft: '10px' }}>{post.poster}</h3>\r\n                </Link>\r\n                <Link\r\n                    to={`/hubs/${post.hub.full_path}`}\r\n                    style={{ width: 'min-content' }}\r\n                >\r\n                    <Badge color=\"primary\">{post.hub.title}</Badge>\r\n                </Link>\r\n                {likes && (\r\n                    <LikeButton\r\n                        setLikes={setLikes}\r\n                        likes={likes}\r\n                        uuid={post.uuid}\r\n                    />\r\n                )}\r\n                <footer style={{ fontSize: '12px' }}>{post.date}</footer>\r\n                <h1 id=\"post-title\">{post.title}</h1>\r\n            </div>\r\n            <hr />\r\n            <div className=\"wrapper\">\r\n                <div id=\"post-div\">\r\n                    <Markdown>{post.content}</Markdown>\r\n                </div>\r\n                <hr />\r\n                {loggedIn ? (\r\n                    <NewComment post={post.id} setComments={setComments} />\r\n                ) : (\r\n                    <h2 className=\"error-message\">\r\n                        You must be logged in to comment!\r\n                    </h2>\r\n                )}\r\n                {comments && comments.length > 0 ? (\r\n                    <CommentList comments={comments} />\r\n                ) : (\r\n                    <h3 color=\"info\">There are no comments here!</h3>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport {\r\n    Card,\r\n    CardText,\r\n    CardBody,\r\n    CardTitle,\r\n    CardSubtitle,\r\n    CardHeader,\r\n    CardFooter,\r\n} from 'reactstrap';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowCircleRight } from '@fortawesome/free-solid-svg-icons';\r\nimport Identicon from 'react-identicons';\r\nimport '../../style/post.css';\r\n\r\nexport default function Row({ post }) {\r\n    const navigate = useNavigate();\r\n    const goToPost = () => navigate(`/hubs/${post.path}/posts/${post.uuid}`);\r\n\r\n    return (\r\n        <Card className=\"hover-card\" onClick={goToPost} title=\"See more\">\r\n            <CardHeader style={{ backgroundColor: '#68d8ee' }}>\r\n                <CardTitle>\r\n                    <h5>{post.title}</h5>\r\n                </CardTitle>\r\n                <CardSubtitle style={{ display: 'inline-flex' }}>\r\n                    <Identicon size=\"20\" string={post.poster} />\r\n                    <h6 style={{ marginLeft: '10px' }}>{post.poster}</h6>\r\n                </CardSubtitle>\r\n            </CardHeader>\r\n            <CardBody className=\"back-blue\">\r\n                <CardText className=\"post-content\">{post.content}</CardText>\r\n            </CardBody>\r\n            <CardFooter className=\"footer back-blue\">\r\n                <p className=\"card-link\">\r\n                    <Link\r\n                        to={`/hubs/${post.path}/posts/${post.uuid}`}\r\n                        aria-label=\"see more\"\r\n                    >\r\n                        <FontAwesomeIcon icon={faArrowCircleRight} />\r\n                        <span className=\"visually-hidden\">See more</span>\r\n                    </Link>\r\n                </p>\r\n                <CardText className=\"text-muted\">{post.date}</CardText>\r\n            </CardFooter>\r\n        </Card>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { PostList } from './';\r\nimport { Spinner } from 'reactstrap';\r\nimport { Dropdown, Paginate } from '../General';\r\n\r\nexport default function JoinedHubs({ filter }) {\r\n    const [posts, setPosts] = useState(null);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [sortBy, setSortBy] = useState(['-date', 'Newest']);\r\n\r\n    //get the posts for a page\r\n\r\n    useEffect(() => {\r\n        setPosts({});\r\n        const getPosts = async () => {\r\n            const response = await fetch(\r\n                `/knowledge/hub/items/1?page=${currentPage}&sort=${sortBy[0]}&type=posts&search=&filter=${filter}`\r\n            );\r\n            const result = await response.json();\r\n            setPosts(result);\r\n        };\r\n        getPosts();\r\n    }, [currentPage, sortBy, filter]);\r\n\r\n    const options = [\r\n        ['-date', 'Newest'],\r\n        ['date', 'Oldest'],\r\n        ['-likes', 'Most Liked'],\r\n        ['likes', 'Least liked'],\r\n    ];\r\n\r\n    return posts === null ? (\r\n        <Spinner color=\"primary\" />\r\n    ) : (\r\n        <div style={{ overflow: 'hidden' }} className=\"wrapper\">\r\n            <Dropdown\r\n                options={options}\r\n                setSortBy={setSortBy}\r\n                selected={sortBy[1]}\r\n            />\r\n            {posts.results ? (\r\n                <>\r\n                    <PostList posts={posts.results} />\r\n                    <Paginate\r\n                        currentPage={currentPage}\r\n                        last={posts.total}\r\n                        setCurrentPage={setCurrentPage}\r\n                    />\r\n                </>\r\n            ) : (\r\n                <Spinner color=\"primary\" />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { GeneralPosts } from './';\r\n\r\nexport default function JoinedHubs() {\r\n    return (\r\n        <>\r\n            <h3 style={{ textAlign: 'center' }}>\r\n                Posts from hubs you belong to\r\n            </h3>\r\n            <GeneralPosts filter=\"joined\" />\r\n        </>\r\n    );\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport { useParams, useLocation, Link } from 'react-router-dom';\r\nimport { Jumbotron, Spinner, Button } from 'reactstrap';\r\nimport { PostList } from '../Post';\r\nimport { HubList, ToggleButton } from './';\r\nimport { Search, Dropdown, Paginate } from '../General';\r\nimport { fetchCsrf, LoggedInContext } from '../Auth';\r\nimport toast from 'react-hot-toast';\r\nimport '../../style/hub.css';\r\n\r\nexport default function Hub() {\r\n    const loggedIn = useContext(LoggedInContext);\r\n    const [hub, setHub] = useState(undefined);\r\n    const [joinStatus, setJoinStatus] = useState(\r\n        hub?.members?.includes(loggedIn) ? 'Leave' : 'Join'\r\n    );\r\n    const [sortBy, setSortBy] = useState(['-date', 'Newest']);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [items, setItems] = useState({});\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [type, setType] = useState('posts');\r\n    const [search, setSearch] = useState('');\r\n    const { title } = useParams();\r\n    const pathlist = useLocation().pathname.split('/');\r\n\r\n    useEffect(() => {\r\n        if (!hub) {\r\n            const getHub = async () => {\r\n                const response = await fetch(\r\n                    `/knowledge/hub/details/${title}?list=${pathlist}`\r\n                );\r\n                const result = await response.json();\r\n                setHub(result);\r\n                setJoinStatus(\r\n                    result.members.includes(loggedIn) ? 'Leave' : 'Join'\r\n                );\r\n            };\r\n            getHub();\r\n        }\r\n    }, [title, hub, pathlist, loggedIn]);\r\n\r\n    //Get items for given category and skip if category isn't ready\r\n    useEffect(() => {\r\n        //Reset the items to make the loading effect\r\n        setIsLoading(true);\r\n        //Only fetch if items aren't set and the hub isn't undefined\r\n        if (hub !== undefined) {\r\n            const getItems = async () => {\r\n                const response = await fetch(\r\n                    `/knowledge/hub/items/${hub.id}?sort=${sortBy[0]}&page=${currentPage}&type=${type}&search=${search}`\r\n                );\r\n                const result = await response.json();\r\n                setItems(result);\r\n                setIsLoading(false);\r\n            };\r\n            getItems();\r\n        }\r\n    }, [hub, currentPage, type, search, sortBy, loggedIn]);\r\n\r\n    const handleTypeChange = () => {\r\n        //Set is loading here to prevent memory leaks\r\n        setIsLoading(true);\r\n        //Set the sort by to newest to avoid invalid sort by in the hubs\r\n        setType(type === 'posts' ? 'hubs' : 'posts');\r\n        setSortBy(['-date', 'Newest']);\r\n        //Set the current page to avoid errors if the pages count is less than the current page\r\n        setCurrentPage(1);\r\n    };\r\n\r\n    const joinHub = () => {\r\n        const result = fetchCsrf(`/knowledge/joined`, { hub: hub.id }, 'PUT');\r\n        toast.promise(result, {\r\n            loading: 'Loading...',\r\n            error: err => err.toString(),\r\n            success: data => {\r\n                setJoinStatus(data.status);\r\n                return data.status === 'Leave'\r\n                    ? 'Hub joined successfully'\r\n                    : 'Hub left successfully';\r\n            },\r\n        });\r\n    };\r\n\r\n    const options = [\r\n        ['-date', 'Newest'],\r\n        ['date', 'Oldest'],\r\n    ];\r\n    //Posts only sort by options\r\n    if (type === 'posts')\r\n        options.push(['-likes', 'Most Liked'], ['likes', 'Least liked']);\r\n\r\n    return hub === undefined ? (\r\n        <Spinner color=\"primary\" />\r\n    ) : hub.error ? (\r\n        <h3>We couldn't find this hub.</h3>\r\n    ) : (\r\n        <div style={{ overflow: 'hidden' }}>\r\n            <Jumbotron\r\n                style={{\r\n                    paddingTop: 0,\r\n                    marginTop: '-20px',\r\n                    whiteSpace: 'pre-wrap',\r\n                }}\r\n            >\r\n                <hr />\r\n                <h3 className=\"display-3 hub-name\">\r\n                    {title.replace(/-/g, ' ')}\r\n                </h3>\r\n                {loggedIn && (\r\n                    <Button\r\n                        onClick={joinHub}\r\n                        color=\"success\"\r\n                        style={{ color: 'black' }}\r\n                    >\r\n                        {joinStatus}\r\n                    </Button>\r\n                )}\r\n\r\n                <p style={{ fontSize: '1.5rem' }}>{hub.description}</p>\r\n                <hr className=\"my-2\" />\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <ToggleButton\r\n                        type={type}\r\n                        handleTypeChange={handleTypeChange}\r\n                    />\r\n                    {loggedIn &&\r\n                        (type === 'posts' ? (\r\n                            /*Ensure this isn't a source hub */\r\n                            hub.full_path.includes('/') && (\r\n                                <Link to=\"posts/new\" className=\"lead\">\r\n                                    + New post\r\n                                </Link>\r\n                            )\r\n                        ) : (\r\n                            <Link to=\"new\" className=\"lead\">\r\n                                + New Hub\r\n                            </Link>\r\n                        ))}\r\n                </div>\r\n            </Jumbotron>\r\n            <div className=\"wrapper\">\r\n                <Search\r\n                    setSearch={setSearch}\r\n                    type={type}\r\n                    setCurrentPage={setCurrentPage}\r\n                />\r\n                <Dropdown\r\n                    options={options}\r\n                    setSortBy={setSortBy}\r\n                    selected={sortBy[1]}\r\n                />\r\n                {type === 'posts' ? (\r\n                    <>\r\n                        <PostList\r\n                            posts={items.results || []}\r\n                            isLoading={isLoading}\r\n                        />\r\n                        <Paginate\r\n                            currentPage={currentPage}\r\n                            last={items.total}\r\n                            setCurrentPage={setCurrentPage}\r\n                        />\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <HubList hubs={items.results} isLoading={isLoading} />\r\n                        <Paginate\r\n                            currentPage={currentPage}\r\n                            last={items.total}\r\n                            setCurrentPage={setCurrentPage}\r\n                        />\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { animated, useSprings } from 'react-spring';\r\nimport { CardDeck, Spinner } from 'reactstrap';\r\nimport { usePrefersReducedMotion } from '../General';\r\nimport { Row } from './';\r\n\r\nexport default function HubList({ hubs, isLoading }) {\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n    const springs = useSprings(\r\n        hubs.length,\r\n        hubs.map(hub => ({\r\n            from: {\r\n                transform: 'translate3D(0,100px,0)',\r\n            },\r\n            to: {\r\n                transform: 'translate3D(0,0,0)',\r\n            },\r\n            immediate: prefersReducedMotion,\r\n        }))\r\n    );\r\n\r\n    return isLoading ? (\r\n        <Spinner color=\"primary\" />\r\n    ) : hubs.length > 0 ? (\r\n        <CardDeck className=\"deck wrapper\">\r\n            {springs.map((props, i) => (\r\n                <animated.div\r\n                    style={props}\r\n                    className=\"col-md-12\"\r\n                    key={hubs[i].id}\r\n                >\r\n                    <Row hub={hubs[i]} />\r\n                </animated.div>\r\n            ))}\r\n        </CardDeck>\r\n    ) : (\r\n        <h5 style={{ margin: '20px', textAlign: 'center' }}>\r\n            Nothing to see here!\r\n        </h5>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { Breadcrumb, BreadcrumbItem } from 'reactstrap';\r\n\r\nexport default function HubPath() {\r\n    const { pathname } = useLocation();\r\n    const [hubPath, setHubPath] = useState(null);\r\n\r\n    useEffect(() => {\r\n        //Make an array from the path\r\n        let newHubPath = pathname.split('/');\r\n        //Remove those 3 from the path\r\n        if (newHubPath[newHubPath.length - 2] === 'posts')\r\n            newHubPath.splice(-2);\r\n        newHubPath = newHubPath.filter(\r\n            path => !['', 'hubs', 'new'].includes(path)\r\n        );\r\n        //Make the check again incase of a leading ''\r\n        if (newHubPath[newHubPath.length - 2] === 'posts')\r\n            newHubPath.splice(-2);\r\n        //Remove the last two items if posts is there\r\n        setHubPath(newHubPath);\r\n    }, [pathname]);\r\n\r\n    return pathname.split('/').includes('hubs') && hubPath ? (\r\n        <Breadcrumb style={{ paddingTop: 0 }}>\r\n            {hubPath.map((hub, index) => (\r\n                <BreadcrumbItem key={index}>\r\n                    <Link to={`/hubs/${hubPath.slice(0, index + 1).join('/')}`}>\r\n                        {hub}\r\n                    </Link>\r\n                </BreadcrumbItem>\r\n            ))}\r\n        </Breadcrumb>\r\n    ) : null;\r\n}\r\n","import React from 'react';\r\nimport {\r\n    Card,\r\n    CardTitle,\r\n    CardText,\r\n    CardHeader,\r\n    CardBody,\r\n    CardFooter,\r\n    CardSubtitle,\r\n} from 'reactstrap';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowCircleRight } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport default function Row({ hub }) {\r\n    const navigate = useNavigate();\r\n    const goToHub = () => navigate(hub.title);\r\n\r\n    return (\r\n        <Card onClick={goToHub} title=\"Go to hub\" className=\"hover-card\">\r\n            <CardHeader className=\"back-green\">\r\n                <CardTitle>\r\n                    <h5>{hub.title.replace(/-/g, ' ')}</h5>\r\n                </CardTitle>\r\n                <CardSubtitle>\r\n                    <p style={{ fontSize: '0.85em' }}>Made {hub.date}</p>\r\n                </CardSubtitle>\r\n            </CardHeader>\r\n            <CardBody style={{ backgroundColor: '#a2ffaf' }}>\r\n                <CardText>{hub.description}</CardText>\r\n            </CardBody>\r\n            <CardFooter className=\"footer back-green\">\r\n                <p className=\"card-link\">\r\n                    <Link to={`${hub.title}`} aria-label=\"see more\">\r\n                        <FontAwesomeIcon icon={faArrowCircleRight} />\r\n                        <span className=\"visually-hidden\">See more</span>\r\n                    </Link>\r\n                </p>\r\n            </CardFooter>\r\n        </Card>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { animated, useSpring, config } from 'react-spring';\r\nimport { usePrefersReducedMotion } from '../General';\r\nimport '../../style/hub.css';\r\n\r\nexport default function ToggleButton({ type, handleTypeChange }) {\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n    const { transform, color } = useSpring({\r\n        transform:\r\n            type !== 'hubs' ? 'translate3D(100%,0,0)' : 'translate3d(0,0,0)',\r\n        color: type !== 'hubs' ? 'white' : 'black',\r\n        config: { ...config.molasses, friction: 60 },\r\n        immediate: prefersReducedMotion,\r\n    });\r\n\r\n    return (\r\n        <Button\r\n            color=\"primary\"\r\n            className=\"lead type-toggle-button\"\r\n            onClick={handleTypeChange}\r\n            style={{\r\n                borderColor: type === 'hubs' && '#86eb93',\r\n            }}\r\n        >\r\n            <animated.span style={{ color }} className=\"type-toggle-span\">\r\n                {type.charAt(0).toUpperCase() + type.slice(1)}\r\n            </animated.span>\r\n            <animated.div\r\n                className=\"type-toggle-div\"\r\n                style={{\r\n                    transform: transform,\r\n                }}\r\n            />\r\n        </Button>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { Form, FormGroup, Label } from 'reactstrap';\r\nimport { fetchCsrf } from '../Auth';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport default function NewHub() {\r\n    const { register, errors, handleSubmit } = useForm();\r\n    const { pathname } = useLocation();\r\n    const navigate = useNavigate();\r\n\r\n    const onSubmit = data => {\r\n        data.hubs = pathname.split('/');\r\n        //replace spaces with dashes\r\n        data.title = data.title.replace(/ /g, '-');\r\n        const result = fetchCsrf('/knowledge/new/hub', data, 'POST');\r\n        toast.promise(result, {\r\n            loading: 'Loading...',\r\n            error: err => err.toString(),\r\n            success: info => {\r\n                navigate(`/hubs/${info.full_path}`);\r\n                return 'Hub created successfully!';\r\n            },\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <h2 style={{ textAlign: 'center', marginTop: '30px' }}>\r\n                Make a new hub\r\n            </h2>\r\n            <h5 style={{ margin: '20px' }}>\r\n                Create a new hub to share all sorts of things with others!\r\n            </h5>\r\n            <Form\r\n                onSubmit={handleSubmit(onSubmit)}\r\n                style={{ textAlign: 'left' }}\r\n            >\r\n                <FormGroup>\r\n                    <Label for=\"title\">Hub name</Label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"title\"\r\n                        className=\"form-control input\"\r\n                        name=\"title\"\r\n                        placeholder=\"A nice name...\"\r\n                        ref={register({\r\n                            required: true,\r\n                            validate: {\r\n                                length: value => value.length < 21,\r\n                                name: value =>\r\n                                    value.toLowerCase() !== 'new' &&\r\n                                    value.toLowerCase() !== 'posts',\r\n                            },\r\n                        })}\r\n                    />\r\n                    {errors.title && (\r\n                        <p className=\"error-message\">\r\n                            {errors.title.type === 'required'\r\n                                ? 'You need to give the hub a name!'\r\n                                : errors.title.type === 'length'\r\n                                ? 'The hub name must be under 21 characters!'\r\n                                : 'That hub name is not allowed!'}\r\n                        </p>\r\n                    )}\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    <Label for=\"description\">The hub description</Label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"description\"\r\n                        className=\"form-control input\"\r\n                        name=\"description\"\r\n                        placeholder=\"An awesome description...\"\r\n                        ref={register({\r\n                            required: true,\r\n                            validate: value => value.length < 101,\r\n                        })}\r\n                    />\r\n                    {errors.description && (\r\n                        <p className=\"error-message\">\r\n                            {errors.description.type === 'required'\r\n                                ? 'You need to give the hub a description!'\r\n                                : 'The hub description must be under 101 characters!'}\r\n                        </p>\r\n                    )}\r\n                </FormGroup>\r\n                <input\r\n                    type=\"submit\"\r\n                    value=\"New hub\"\r\n                    className=\"btn btn-primary\"\r\n                />\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Spinner } from 'reactstrap';\r\nimport { GeneralPosts } from '../Post';\r\nimport Identicon from 'react-identicons';\r\n\r\nexport default function UserPosts() {\r\n    const { username } = useParams();\r\n    const [user, setUser] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const getUser = async () => {\r\n            const response = await fetch(`/knowledge/user/${username}`);\r\n            const result = await response.json();\r\n            setUser(result);\r\n        };\r\n        getUser();\r\n    }, [username]);\r\n\r\n    return !user ? (\r\n        <Spinner color=\"primary\" />\r\n    ) : !user.error ? (\r\n        <div>\r\n            <div style={{ margin: '50px' }}>\r\n                <div style={{ display: 'flex', marginBottom: '20px' }}>\r\n                    <Identicon size=\"80\" bg=\"white\" string={username} />\r\n                    <div style={{ marginLeft: '20px' }}>\r\n                        <h2>{username}</h2>\r\n                        <h5>Has {user.post_count} posts</h5>\r\n                        <h5>Member of {user.joined_hubs_count} hubs</h5>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <h3 style={{ textAlign: 'center' }}>Posts from {username}</h3>\r\n            </div>\r\n            <GeneralPosts filter={username} />\r\n        </div>\r\n    ) : (\r\n        <h2>This user could not be found</h2>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useTransition, animated } from 'react-spring';\r\nimport { ListGroup } from 'reactstrap';\r\nimport { Search, usePrefersReducedMotion } from '../General';\r\nimport { UserRow } from './';\r\n\r\nexport default function UserList() {\r\n    const [users, setUsers] = useState([]);\r\n    const [search, setSearch] = useState('');\r\n    const prefersReducedMotion = usePrefersReducedMotion();\r\n\r\n    const transitions = useTransition(users, user => user.id, {\r\n        enter: {\r\n            height: 83,\r\n            opacity: 1,\r\n        },\r\n        from: {\r\n            height: 0,\r\n            opacity: 0,\r\n        },\r\n        leave: {\r\n            height: 0,\r\n            opacity: 0,\r\n        },\r\n        immediate: prefersReducedMotion,\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (search !== '') {\r\n            const getUsers = async () => {\r\n                const response = await fetch(\r\n                    `/knowledge/users?search=${search}`\r\n                );\r\n                const result = await response.json();\r\n                setUsers(result);\r\n            };\r\n            getUsers();\r\n        }\r\n    }, [search]);\r\n\r\n    return (\r\n        <div className=\"wrapper\" style={{ marginTop: '30px' }}>\r\n            <h2 style={{ textAlign: 'center' }}>Users</h2>\r\n            <Search\r\n                type=\"users\"\r\n                setSearch={setSearch}\r\n                setCurrentPage={() => {}}\r\n            />\r\n            {users.length > 0 ? (\r\n                <ListGroup flush className=\"item-list\">\r\n                    {transitions.map(({ props, key, item }) => (\r\n                        <animated.div\r\n                            key={key}\r\n                            style={{ ...props, width: '100%' }}\r\n                        >\r\n                            <UserRow user={item.username} />\r\n                        </animated.div>\r\n                    ))}\r\n                </ListGroup>\r\n            ) : (\r\n                <h3 style={{ textAlign: 'center' }}>\r\n                    No users match your search!\r\n                </h3>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { ListGroupItem } from 'reactstrap';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowCircleRight } from '@fortawesome/free-solid-svg-icons';\r\nimport Identicon from 'react-identicons';\r\nimport '../../style/user.css';\r\n\r\nexport default function UserRow({ user }) {\r\n    const navigate = useNavigate();\r\n    const goToUser = () => navigate(`/users/${user}`);\r\n\r\n    return (\r\n        <ListGroupItem onClick={goToUser} className=\"item\">\r\n            <Identicon string={user} size=\"35\" bg=\"white\" />\r\n            <div style={{ marginLeft: '20px' }}>\r\n                <h6>{user}</h6>\r\n                <Link to={`/users/${user}`} aria-label=\"see user\">\r\n                    <FontAwesomeIcon icon={faArrowCircleRight} />\r\n                    <span className=\"visually-hidden\">See user</span>\r\n                </Link>\r\n            </div>\r\n        </ListGroupItem>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { CardDeck, Col, Row } from 'reactstrap';\r\nimport { HomeRow } from './';\r\n\r\nexport default function Home() {\r\n    const hubs = [\r\n        {\r\n            title: 'Technology',\r\n            color: '#9b9bf7',\r\n        },\r\n        {\r\n            title: 'History',\r\n            color: '#e6aeae',\r\n        },\r\n        {\r\n            title: 'Math',\r\n            color: 'yellow',\r\n        },\r\n        {\r\n            title: 'Geography',\r\n            color: 'brown',\r\n        },\r\n        {\r\n            title: 'Science',\r\n            color: 'green',\r\n        },\r\n        {\r\n            title: 'Art',\r\n            color: 'Orange',\r\n        },\r\n        {\r\n            title: 'Fun',\r\n            color: 'pink',\r\n        },\r\n        {\r\n            title: 'Other-stuff',\r\n            color: 'purple',\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div>\r\n            <h2 style={{ textAlign: 'center' }}>\r\n                Welcome! Choose any of the hubs to start sharing!\r\n            </h2>\r\n            <CardDeck className=\"big-wrapper deck\">\r\n                <Row>\r\n                    {hubs.map(hub => (\r\n                        <Col\r\n                            md=\"6\"\r\n                            style={{\r\n                                padding: 0,\r\n                                marginBottom: '15px',\r\n                            }}\r\n                            key={hub.id}\r\n                        >\r\n                            <HomeRow hub={hub} />\r\n                        </Col>\r\n                    ))}\r\n                </Row>\r\n            </CardDeck>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport {\r\n    Card,\r\n    CardTitle,\r\n    CardText,\r\n    CardHeader,\r\n    CardBody,\r\n    CardFooter,\r\n    CardSubtitle,\r\n} from 'reactstrap';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowCircleRight } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport default function Row({ hub }) {\r\n    const navigate = useNavigate();\r\n    const goToHub = () => navigate(`/hubs/${hub.title}`);\r\n\r\n    return (\r\n        <Card\r\n            onClick={goToHub}\r\n            title=\"Go to hub\"\r\n            className=\"hover-card\"\r\n            style={{\r\n                marginLeft: '15px',\r\n                boxShadow: `3px 5px 6px ${hub.color}`,\r\n            }}\r\n        >\r\n            <CardHeader className=\"back-green\">\r\n                <CardTitle>\r\n                    <h5>{hub.title.replace(/-/g, ' ')}</h5>\r\n                </CardTitle>\r\n                <CardSubtitle>\r\n                    <p style={{ fontSize: '0.85em' }}>Made at the beginning</p>\r\n                </CardSubtitle>\r\n            </CardHeader>\r\n            <CardBody style={{ backgroundColor: '#a2ffaf' }}>\r\n                <CardText>\r\n                    For all things related to {hub.title.replace(/-/g, ' ')}\r\n                </CardText>\r\n            </CardBody>\r\n            <CardFooter className=\"footer back-green\">\r\n                <p className=\"card-link\">\r\n                    <Link to={`/hubs/${hub.title}`} aria-label=\"see more\">\r\n                        <FontAwesomeIcon icon={faArrowCircleRight} />\r\n                        <span className=\"visually-hidden\">See more</span>\r\n                    </Link>\r\n                </p>\r\n            </CardFooter>\r\n        </Card>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\nimport {\n    BrowserRouter as Router,\n    Route,\n    Routes,\n    Outlet,\n    Navigate,\n} from 'react-router-dom';\nimport {\n    Register,\n    Login,\n    LoggedInProvider,\n    ToggleLoggedInProvider,\n} from './components/Auth';\nimport { Sidebar } from './components/General';\nimport { Toaster } from 'react-hot-toast';\nimport { Post, NewPost, JoinedPosts } from './components/Post';\nimport { Hub, HubPath, NewHub } from './components/Hub';\nimport { UserList, UserProfile } from './components/User';\nimport { Home } from './components/Home';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nexport default function App() {\n    const [loggedIn, setLoggedIn] = useState(undefined);\n\n    useEffect(() => {\n        if (loggedIn !== undefined) return () => {};\n        const getUser = async () => {\n            const response = await fetch('/knowledge/login');\n            const { user } = await response.json();\n            setLoggedIn(user);\n        };\n        getUser();\n    }, [loggedIn]);\n\n    return (\n        <Router>\n            <Toaster />\n            <LoggedInProvider value={loggedIn}>\n                <ToggleLoggedInProvider value={setLoggedIn}>\n                    <Sidebar>\n                        <div className=\"App\">\n                            <HubPath />\n                            <Routes>\n                                <Route path=\"/\" element={<Home />} />\n                                <Route\n                                    path=\"/joined\"\n                                    element={\n                                        loggedIn ? <JoinedPosts /> : <Login />\n                                    }\n                                />\n                                <Route path=\"/users\" element={<UserList />} />\n                                <Route\n                                    path=\"/users/:username\"\n                                    element={<UserProfile />}\n                                />\n                                <Route\n                                    path=\"/register\"\n                                    element={\n                                        loggedIn ? (\n                                            <Navigate to=\"/\" />\n                                        ) : (\n                                            <Register />\n                                        )\n                                    }\n                                />\n                                <Route\n                                    path=\"/login\"\n                                    element={\n                                        loggedIn ? (\n                                            <Navigate to=\"/\" />\n                                        ) : (\n                                            <Login />\n                                        )\n                                    }\n                                />\n                                <Route path=\"posts/:uuid\" element={<Post />} />\n                                <Route path=\"/hubs/:title*\" element={<Hubs />}>\n                                    <Route path=\"/\" element={<Hub />} />\n                                    <Route\n                                        path=\"posts/:uuid\"\n                                        element={<Post />}\n                                    />\n                                    <Route\n                                        path=\"new\"\n                                        element={\n                                            loggedIn ? <NewHub /> : <Login />\n                                        }\n                                    />\n                                    <Route\n                                        path=\":title*\"\n                                        element={\n                                            <HubRoutes loggedIn={loggedIn} />\n                                        }\n                                    />\n                                </Route>\n                                <Route path=\"*\">\n                                    <h3>This page couldn't be found :(</h3>\n                                </Route>\n                            </Routes>\n                        </div>\n                    </Sidebar>\n                </ToggleLoggedInProvider>\n            </LoggedInProvider>\n        </Router>\n    );\n}\n\nfunction Hubs() {\n    return <Outlet />;\n}\n\n/*\nOkay so you may be looking at this and wonder what the heck is he doing here, and \nsince it's a bit complex I'll explain. What we do here is that we first render\nthe Hub Routes above. The HubRoutes include a Routes component and the specific \nroutes we want. Now, this is made of the index, new post, specific post, and a sub route. \nWhen the path becomes from something like /hub/TITLE to /hub/TITLE/TITLE2,\nOur HubRoutes render itself again with the new TITLE2 route as the main one. This is \nbecause of the :title* path we have. So this allows us to recursively nest hubs. But why \ndoes it work? In the v6 of react router, you only want an Outlet to render the chosen path.\nSo just exposing the new nested routes still works because the Outlet takes their place.\n*/\nfunction HubRoutes({ loggedIn }) {\n    return (\n        <>\n            <Routes>\n                <Route path=\"/\" element={<Hub />} />\n                <Route\n                    path=\"posts/new\"\n                    element={loggedIn ? <NewPost /> : <Login />}\n                />\n                <Route path=\"posts/:uuid\" element={<Post />} />\n                <Route path=\"new\" element={loggedIn ? <NewHub /> : <Login />} />\n                <Route\n                    path=\":title*\"\n                    element={<HubRoutes loggedIn={loggedIn} />}\n                />\n            </Routes>\n        </>\n    );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/undraw_Login_re_4vu2.303e4a67.svg\";","module.exports = __webpack_public_path__ + \"static/media/undraw_share_online_r87b.fbd5ff07.svg\";"],"sourceRoot":""}